<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>动态路由 Params</title>
    <link rel="stylesheet" href="../css/common.css">
    <base target="_blank">
</head>

<body>
    <header>
        <h1>动态路由</h1>
        <span>&commat; Params</span>
    </header>
    <dl>
        <dd>在URL后面采用 <span class="warn">路径</span> 的方式来传递参数，将给定匹配模式的路由映射到<span class="warn">同一个</span>组件，如/goods/1 和
            /goods/2 这样的 URL 都会映射到同一个路由/goods：在同一个页面根据 id 显示不同的商品 </dd>
        <dd>使用一个或多个动态字段来实现；?表示该参数 <span class="warn">可选</span></dd>
        <dd>传递的动态路由参数由路由的 <span class="warn">params</span> 接收</dd>
        <dd>动态属性绑定 to 时，<span class="warn">只能</span> 使用命名路由 name，不可以使用普通路由 path - 因为匹配不到</dd>
        <dt>配置路由参数</dt>
        <dd>根据id展示对应的内容</dd>
        <dd>
            <pre>
{
    path: '/html/:id',
    name: 'html',
    component: () => import('../components/sub_view/Html5.vue'),
},
{
    path: 'css/:id',
    name: 'css',
    component: () => import('../components/sub_view/Css3.vue'),
},
{
    path: 'js/:id',
    name: 'js',
    component: () => import('../components/sub_view/JavaScript.vue'),
}</pre>
        </dd>
        <dt>传递路由参数</dt>
        <dd>可以使用普通路由path和命名路由name传递路由参数</dd>
        <dd>属性绑定时，只能使用命名路由；否则会报错 <span class="warn">Path "/xxx" was passed with params but they will be ignored. Use a
                named route alongside
                params instead.</span></dd>
        <dd>
            <pre>
//使用1：静态路由
&lt;router-link to="/html/webjs"&gt;html - webjs&lt;/router-link&gt;

//使用2：拼接
&lt;router-link :to="'/html/' + webjs"&gt;html - webjs&lt;/router-link&gt;

//使用3：name，不能使用path
&lt;router-link :to="{ name: 'html', params: { id: 'webjs' } }"&gt;html - webjs&lt;/router-link&gt;</pre>
        </dd>
        <dt>接收路由参数</dt>
        <dd>在路由目标组件 - 逻辑 - 使用useRoute接收路由参数，然后根据业务处理，如加载对应的数据</dd>
        <dd>
            <pre>
import { useRoute } from 'vue-router'
let route = useRoute()
console.log(route.params.id);</pre>
        </dd>
        <dd class="tips">useRoute() 是一个全局注入的函数，用于在组件中获取当前激活的路由信息。它返回一个 RouteLocationNormalized 对象，包含了当前路由的所有属性，如
            path、params、query 等</dd>
        <dd>在路由目标组件 - 结构 - 使用全局变量$route接收路由参数；通常不这样使用，因为全局变量$route会随着路由变化而变化，导致数据不匹配</dd>
        <dd>
            <pre>&lt;div&gt;{{ $route.params.id }}&lt;/div&gt;</pre>
        </dd>
        <dt>多个路由参数</dt>
        <dd>尽量精准设计路由，避免使用</dd>
        <dd>必要时，使用命名路由，简化路由操作</dd>
        <dd>
            <pre>
{
    path: '/home/:id/:title/:cont/:other?',
    name: "home",
    component: Home
}</pre>
        </dd>
        <dd>不直观</dd>
        <dd>
            <pre>&lt;router-link to = "/home/10/leading/conteng"&gt;home&lt;/router-link&gt;</pre>
        </dd>
        <dd>使用命名路由</dd>
        <dd>
            <pre>
&lt;router-link :to = "{
    name: 'home',
    params: {
        id: 10,
        title: 'leading',
        cont: 'content'
    }
}"&gt;home&lt;/router-link&gt;</pre>
        </dd>
        <dd class="tips">
            <div>逻辑：导入路由包 useRoute并使用</div>
            <div>结构：使用全局变量$route解构：动态路由$route.params；查询路由$route.query</div>
        </dd>
    </dl>
    <iframe src="../common/footer.html" frameborder="0" scrolling="no" title="footer" id="footer"></iframe>
</body>

</html>