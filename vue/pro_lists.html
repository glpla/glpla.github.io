<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>项目 商品列表</title>
  <link rel="stylesheet" href="../css/course.css">
  <link rel="stylesheet" href="../css/sn.css">
  <link rel="stylesheet" href="../css/code.css">
  <base target="_blank">
</head>

<body>
  <div class="container">
    <header>
      <h1>商品列表</h1>
      <span>Center</span>
    </header>
    <dl class="number-mul-sn">
      <dt>实验内容</dt>
      <dd>
        <div>收藏</div>
        <div>分享</div>
        <div>选择规格、数量</div>
        <div>查看评论</div>
        <div>查看详情</div>
        <div>热门推荐</div>
      </dd>
      <dt>前置知识</dt>
      <dd>
        <div>数据绑定</div>
        <div>下拉刷新</div>
        <div>触底加载</div>
        <div>网络请求 Axios - GET</div>
      </dd>
      <dt>开发环境</dt>
      <dd>
        <div>操作系统 Window 10+</div>
        <div>文本编辑器 Vs Code</div>
        <div>谷歌浏览器 Chrome</div>
        <div>Node.js</div>
      </dd>
      <dt>参考代码</dt>
      <dd>
        <div>触底加载 - 更多细节，请访问 <a href="../web/js/scroll.html" class="link">HTML - scroll</a></div>
        <pre class="code">
import axios from 'axios';
import { ref, onMounted, onUnmounted } from 'vue';
let list = ref([])
const loadList = () => {
  axios.get('/good.json')
    .then(res => {
      list.value = [...list.value, ...res.data.cont]
    })
}
const doScroll = () => {
  let html = document.documentElement;
  let per = html.scrollTop / (html.scrollHeight - html.clientHeight);
  console.log(per);
  if (per >= 0.7) {
    console.log('loading');
    loadList()
  }
}
onMounted(() => {
  loadList()
  window.addEventListener('scroll', doScroll)
})
onUnmounted(() => {
  window.removeEventListener('scroll', doScroll)
})      </pre>
      </dd>
    </dl>
    <iframe src="../../common/footer.html" frameborder="0" scrolling="no" title="footer" id="footer"></iframe>
  </div>
</body>

</html>