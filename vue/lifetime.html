<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>生命周期函数 Lifetime</title>
    <link rel="stylesheet" href="../css/reset2024.css">
    <link rel="stylesheet" href="../css/common2024.css">
    <link rel="stylesheet" href="../css/code.css">
    <link rel="stylesheet" href="../css/sn.css">
    <base target="_blank">
</head>

<body>
    <header>
        <h1>生命周期函数</h1>
        <span>Lifetime</span>
    </header>
    <dl>
        <dt>说明</dt>
        <dd>组件的一生：创建 → 挂载 → 更新 → 销毁；又细分为前、后两个阶段</dd>
        <dd>开发者根据组件的状态在特定阶段执行特定的操作</dd>
        <dd>基本使用：引入对应的包 → 执行函数 → 传入回调</dd>
        <dd>
            <figure class="img-sn">
                <img style="width: 80%;" src="https://cn.vuejs.org/assets/lifecycle.DLmSwRQE.png" alt="">
                <figcaption>Vue的生命周期函数</figcaption>
            </figure>
        </dd>
        <dd>
            <details open>
                <summary>Lifetime</summary>
                <details>
                    <summary>setup</summary>
                    <div>组合式API专有</div>
                </details>
                <details>
                    <summary>onBeforeMount()</summary>
                    <div>注册一个钩子，在组件被挂载之前被调用</div>
                    <div>初始化；拉取/操作数据；但是DOM还未就绪</div>
                    <div class="code">
                        <pre>
import { onBeforeMount } from 'vue'

onBeforeMount(() => {
    console.log("onBeforeMount");
})</pre>
                    </div>
                </details>
                <details>
                    <summary>onMounted()</summary>
                    <div>注册一个回调函数，在组件挂载完成后执行：DOM已就绪</div>
                    <div>多用于项目初始化</div>
                    <div>可以执行多个，但是仅仅执行1次</div>
                    <div>运维通过追加的方式，定义新的逻辑</div>
                    <div class="code">
                        <pre>
import { onMounted } from 'vue'

onMounted(() => {
    console.log("onMounted:Initialization before");
})
onMounted(() => {
    console.log("onMounted:Initialization now");
})</pre>
                    </div>
                </details>
                <details>
                    <summary>onBeforeUpdated()</summary>
                    <div>注册一个回调函数，在组件因为响应式状态变更而更新其 DOM 树之前调用</div>
                </details>
                <details>
                    <summary>onUpdated()</summary>
                    <div>更新完毕</div>
                    <div>注册一个回调函数，在组件因为响应式状态变更而更新其 DOM 树之后调用</div>
                </details>
                <details>
                    <summary>onBeforeUnmount()</summary>
                    <div>卸载之前</div>
                    <div>注册一个回调函数，在组件实例被卸载之前调用</div>
                    <div>是onBeforeUnmount，不是onBeforeUnmounted</div>
                </details>
                <details>
                    <summary>onUnmounted</summary>
                    <div>注册一个回调函数，在组件实例被卸载之后调用</div>
                </details>
                <details>
                    <summary>other</summary>
                    <div>onActivated()</div>
                    <div>注册一个回调函数，若组件实例是 &lt;KeepAlive&gt; 缓存树的一部分，当组件被插入到 DOM 中时调用</div>
                    <div>onDeactivated()</div>
                    <div>注册一个回调函数，若组件实例是 &lt;KeepAlive&gt; 缓存树的一部分，当组件从 DOM 中被移除时调用</div>
                </details>
            </details>
        </dd>
        <dd class="example-sn">
            使用路由，加载组件，倒计时结束后返回主页；查看：onMounted、onBeforeUpdate、onUpdated、onBeforeUnmount、onUnmounted等函数的执行</dd>
    </dl>
    <iframe src="../common/footer.html" frameborder="0" scrolling="no" title="footer" id="footer"></iframe>
</body>

</html>