<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>查询路由 Query</title>
    <link rel="stylesheet" href="../css/common.css">
    <base target="_blank">
</head>

<body>
    <header>
        <h1>查询路由</h1>
        <span>&commat; Query</span>
    </header>
    <dl>
        <dt>查询路由 - query</dt>
        <dd>在URL后面使用?连接值对形式的查询字符串来传递参数</dd>
        <dd>基本使用同动态路由</dd>
        <dd>
            <pre>http://127.0.0.1:5500/vue/router.html?name=gl&age=18</pre>
        </dd>
        <dd>1. 配置路由参数 - 不需要特别配置</dd>
        <dd>2. 传递路由参数 - 分别使用普通路由path和命名路由name传递路由参数</dd>
        <dd>
            <pre>
&lt;router-link to="/team?id=100"&gt;team&lt;/router-link&gt;
&lt;router-link :to="{ path: '/team', query: { id: 100 } }"&gt;team&lt;/router-link&gt;
&lt;router-link :to="{ name: 'team', query: { id: 100 } }"&gt;team&lt;/router-link&gt;</pre>
        </dd>
        <dd>3. 接收路由参数 - 在路由目标组件的结构中使用$route.query接收路由参数</dd>
        <dd>
            <pre>&lt;div&gt;{{ $route.query.id }}&lt;/div&gt;</pre>
        </dd>
        <dd>在路由目标组件 - 逻辑 - 中使用useRoute接收路由参数</dd>
        <dd>多个路由参数可以使用解构路由以简化语法</dd>
        <dd>
            <pre>
import { useRoute } from 'vue-router'
let route = useRoute()
console.log(route.query.id);</pre>
        </dd>
        <dd>为避免失去响应式，应该使用toRefs</dd>
        <dd>&lt;script&gt;接收路由参数</dd>
        <dd>
            <pre>
import {toRefs} from 'vue'
import {useRoute} from 'vue-router'
let route = useRoute()
let {query} = toRefs(route)</pre>
        </dd>
        <dd>&lt;template&gt;渲染路由参数 - 解构路由</dd>
        <dd>
            <pre>
&lt;ul&gt;
    &lt;li&gt;{{query.id}}&lt;/li&gt;
    &lt;li&gt;{{query.title}}&lt;/li&gt;
    &lt;li&gt;{{query.cont}}&lt;/li&gt;
&lt;/ul&gt;</pre>
        </dd>
        <dd>&lt;template&gt;渲染路由参数 - 不解构路由</dd>
        <dd>
            <pre>
&lt;ul&gt;
    &lt;li&gt;{{route.query.id}}&lt;/li&gt;
    &lt;li&gt;{{route.query.title}}&lt;/li&gt;
    &lt;li&gt;{{route.query.cont}}&lt;/li&gt;
&lt;/ul&gt;</pre>
        </dd>
        <dd class="tips">在结构中使用路由参数时，使用全局变量$route解构：动态路由$route.params；查询路由$route.query</dd>
    </dl>
    <iframe src="../common/footer.html" frameborder="0" scrolling="no" title="footer" id="footer"></iframe>
</body>

</html>