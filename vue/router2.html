<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>查询路由 Query</title>
    <link rel="stylesheet" href="../css/common.css">
    <base target="_blank">
</head>

<body>
    <header>
        <h1>查询路由</h1>
        <span>&commat; Query</span>
    </header>
    <dl>
        <dd>在URL后面使用 ? 连接值对形式的查询字符串来传递参数；多个参数使用 & 拼接；基本使用同动态路由</dd>
        <dd>
            <pre>http://127.0.0.1:5500/vue/router.html?name=gl&age=18</pre>
        </dd>
        <dt>配置路由参数</dt>
        <dd>不需要特别配置</dd>
        <dd>查询路由可以使用或不使用，对路由配置没有影响；而动态路由一旦配置，必须按照要求使用</dd>
        <dt>传递路由参数</dt>
        <dd>可以使用 普通路由|path 和 命名路由|name 传递路由参数</dd>
        <dd>
            <pre>
//使用1：
&lt;router-link to="/team?id=100"&gt;team&lt;/router-link&gt;

//使用2：path
&lt;router-link :to="{ path: '/team', query: { id: 100 } }"&gt;team&lt;/router-link&gt;

//使用3：name
&lt;router-link :to="{ name: 'team', query: { id: 100 } }"&gt;team&lt;/router-link&gt;</pre>
        </dd>
        <dt>接收路由参数</dt>
        <dd>在路由目标组件 - 逻辑 - 使用 useRoute 接收路由参数；多个路由参数可以使用解构路由以简化语法</dd>
        <dd>
            <pre>
import { useRoute } from 'vue-router'
let route = useRoute()
console.log(route.query.id);</pre>
        </dd>
        <dd>在路由目标组件 - 结构 - 使用 $route.query 接收路由参数</dd>
        <dd>
            <pre>&lt;div&gt;{{ $route.query.id }}&lt;/div&gt;</pre>
        </dd>
        <dt>注意事项</dt>
        <dd>为避免失去响应式，应该使用toRefs</dd>
        <dd>&lt;script&gt;接收路由参数</dd>
        <dd>
            <pre>
import {toRefs} from 'vue'
import {useRoute} from 'vue-router'
let route = useRoute()
let {query} = toRefs(route)</pre>
        </dd>
        <dd>&lt;template&gt;渲染路由参数 - 解构路由</dd>
        <dd>
            <pre>
&lt;ul&gt;
    &lt;li&gt;{{query.id}}&lt;/li&gt;
    &lt;li&gt;{{query.title}}&lt;/li&gt;
    &lt;li&gt;{{query.cont}}&lt;/li&gt;
&lt;/ul&gt;</pre>
        </dd>
        <dd>&lt;template&gt;渲染路由参数 - 不解构路由</dd>
        <dd>
            <pre>
&lt;ul&gt;
    &lt;li&gt;{{route.query.id}}&lt;/li&gt;
    &lt;li&gt;{{route.query.title}}&lt;/li&gt;
    &lt;li&gt;{{route.query.cont}}&lt;/li&gt;
&lt;/ul&gt;</pre>
        </dd>
        <dd class="tips">
            <div>结构：使用全局变量$route解构：动态路由$route.params；查询路由$route.query</div>
            <div>逻辑：导入路由包 useRoute并使用</div>
        </dd>
    </dl>
    <iframe src="../common/footer.html" frameborder="0" scrolling="no" title="footer" id="footer"></iframe>
</body>

</html>