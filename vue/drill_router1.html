<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>实操 路由2 综合运用</title>
  <link rel="stylesheet" href="../css/exp.css">
  <base target="_blank">
</head>

<body>
  <header>
  </header>
  <div class="container">
    <h1>路由2 综合运用</h1>
    <h4>Router</h4>
    <dl class="number-mul-sn">
      <dt>实验目的</dt>
      <dd>
        <div>掌握编程路由和路由守卫的常见应用</div>
        <div>掌握状态管理|仓库的基本使用</div>
        <div>路由样式的使用</div>
        <div>进一步熟悉普通路由、命名路由、重定向路由和嵌套路由的使用</div>
      </dd>
      <dt>实验内容</dt>
      <dd>
        <div>准备数据</div>
        <div>创建仓库</div>
        <div>请求数据</div>
        <div>渲染数据</div>
        <div>筛选数据</div>
        <div>查看数据</div>
      </dd>
      <dt>开发环境</dt>
      <dd>
        <div>操作系统 Window 10+</div>
        <div>文本编辑器 Vs Code</div>
        <div>谷歌浏览器 Chrome</div>
        <div>Node.js</div>
      </dd>
      <dt>实验步骤</dt>
      <dd>
        <div>数据结构 - 以本地json数据为例，数据节点为</div>
        <pre>
  {
    "id": 0,
    "name": "桂院螺蛳粉",
    "desc": "Lorem ipsum dolor sit, amet consectetur adipisicing elit.",
    "price": 12,
    "flavour": "辛辣",
  }        </pre>
        <div>创建仓库 good.js</div>
        <pre>
import { defineStore } from 'pinia'
import { ref, computed } from 'vue'
export const useGoodStore = defineStore('good', () => {
  const goods = ref([])
  const isLoading = ref(false)
  const fetchGoods = async () => {
    isLoading.value = true
    let res = await fetch('http://127.0.0.1:3000/goods')
    let data = await res.json()
    goods.value = data
    isLoading.value = false
  }
  
  return { goods, isLoading, fetchGoods }
})        </pre>
        <div>路由设置</div>
        <pre></pre>
        <div>Goods.vue</div>
        <p>请求数据 - 引入并响应式处理</p>
        <pre>
import good from '../assets/data.json'
const goods = ref(good)</pre>
        <p>渲染数据并绑定事件</p>
        <pre>
&lt;div class="item" v-for="(item, index) in goods" :key="item.id" @click="toGood(item.id)"&gt;
  &lt;div&gt;{{ item.name }}&lt;/div&gt;
  &lt;div&gt;{{ item.price }}&lt;/div&gt;
  &lt;div&gt;{{ item.flavour }}&lt;/div&gt;
&lt;/div&gt;</pre>
        <p>单击商品项，跳到详情页 Good.vue - 使用编程式路由</p>
        <pre>
import { useRouter } from 'vue-router';
const router = useRouter()

const toGood = (id) => {
  router.push({
    name: 'good',
    params: {
      id: id
    }
  })
}</pre>
        <div>Good.vue</div>
        <p></p>
        <div>筛选数据</div>
      </dd>
      <dt>参考代码</dt>
      <dd></dd>
      <dt>实验结果分析与体会</dt>
      <dd>
        <div>掌握的知识点、开发技能</div>
        <div>碰到的问题、解决的思路和方法以及未解决的问题</div>
        <div>其它思考</div>
      </dd>
      <dt>实验要求</dt>
      <dd>
        <div>规范开发；独立完成；突出个人设计特点和风格</div>
        <div>实验报告：采用学院统一下发的格式文件，以文字说明，配以必要的效果图片或核心代码，展示并说明数据来源、实施过程、各部分功能、具体内容和实现细节；最后导出为PDF，按照要求命名，提交个人学习通作业</div>
        <div>未按要求在规定时间内提交视为无效，不得分</div>
        <div>格式规范，请参考 <a href="../course/paper.html">论文规范要点</a></div>
      </dd>
    </dl>
    <iframe src="../../common/footer.html" frameborder="0" scrolling="no" title="footer" id="footer"></iframe>
  </div>
</body>

</html>