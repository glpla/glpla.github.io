<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>缓存组件 &lt;KeepAlive&gt;</title>
    <link rel="stylesheet" href="../css/reset2024.css">
    <link rel="stylesheet" href="../css/common2024.css">
    <link rel="stylesheet" href="../css/code.css">
    <link rel="stylesheet" href="../css/sn.css">
    <base target="_blank">
</head>

<body>
    <header>
        <h1>缓存组件</h1>
        <span>&lt;KeepAlive&gt;</span>
    </header>
    <dl>
        <dd>内置组件 - 无需注册即可在任意别的组件中使用</dd>
        <dd>除了类class，内联样式style和状态state实现元素或组件的过渡和动画外，还可以使用过渡组件制作基于状态变化的过渡和动画</dd>
        <dt>&lt;KeepAlive&gt;</dt>
        <dd>缓存组件</dd>
        <dd>多个组件间动态切换时，默认情况下，组件被替换掉，再次回来时，状态被初始化</dd>
        <dd>特定情况下，当组件恢复时，为了继续使用其状态-恢复现场，需要缓存被移除的组件实例；基本考虑同：函数的执行、调试断点</dd>
        <dd>缓存组件时，默认会缓存内部的所有组件实例；可以使用 include 和 exclude 属性 定制缓存行为</dd>
        <dd>使用：用 &lt;KeepAlive&gt; 内置组件将这些动态组件包装起来</dd>
        <dd>应用：各管理平台的标签页应用</dd>
        <dd class="code">
            <pre>
&lt;template&gt;
    &lt;KeepAlive&gt;
        &lt;component :is="tabs[currentTab]"&gt;&lt;/component&gt;
    &lt;/KeepAlive&gt;
&lt;/template&gt;</pre>
        </dd>
        <dt>钩子函数</dt>
        <dd>组件缓存后而仍作为组件树的一部分时，它将变为不活跃状态而不是被卸载</dd>
        <dd>onActivated()</dd>
        <dd>注册一个回调函数，若组件实例是 &lt;KeepAlive&gt; 缓存树的一部分，当组件被插入到 DOM 中时调用</dd>
        <dd>onDeactivated()</dd>
        <dd>注册一个回调函数，若组件实例是 &lt;KeepAlive&gt; 缓存树的一部分，当组件从 DOM 中被移除时调用</dd>
        <dd class="example-sn">模拟用户个人中心的标签页</dd>
    </dl>
    <iframe src="../common/footer.html" frameborder="0" scrolling="no" title="footer" id="footer"></iframe>
</body>

</html>