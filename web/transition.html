<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>过渡动画 Transition</title>
  <link rel="stylesheet" href="../css/common.css">
  <link rel="stylesheet" href="./css/transition.css">
  <base target="_blank">
</head>

<body>
  <header>
    <h1>过渡动画</h1>
    <span>&commat;Transition</span>
    <span class="iconfont icon-menu ham"></span>
    <nav class="nav">
      <a href="" class="nav-item">Overview</a>
      <a href="" class="nav-item">Cases</a>
      <a href="" class="nav-item">Steps</a>
      <a href="" class="nav-item">Events</a>
    </nav>
  </header>
  <dl class="nav-cont">
    <dt>简介 Overview</dt>
    <dd>
      <div>元素从一个状态过渡到另外一个状态，包括过渡的2个状态、过渡的时间、过渡的方式、是否延迟等属性</div>
      <div>状态过渡需要一个触发条件，通常是鼠标悬停hover；也可以通过添加类的方式实现</div>
      <div>只能定义2个状态：开始状态、结束状态；如果需要多个状态呈现变化过程，请使用帧动画</div>
      <div>只适用于 <span class="warn">数值</span> 状态</div>
      <div>状态可以是一个属性，也可以是多个属性；多个属性的过渡可以使用 <span class="warn">逗号,</span> 分隔单独设计</div>
      <div>只能作用于当前元素；如果多个元素使用，请使用帧动画</div>
      <div>桌面端使用较多；移动端使用少</div>
      <div>复合属性 shorthand</div>
      <pre>transition: property duration timing-function delay;</pre>
      <div>单独属性 longhand</div>
      <pre>
transition-property:
transition-duration:
transition-timing-function:
transition-delay:        </pre>
      <table>
        <caption>过渡属性</caption>
        <tr>
          <th style="width: 30%;">类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>property</td>
          <td>元素参与过渡的属性，必须是 <span class="warn">数值型</span> 的属性
            <br>通常指定为all；<span class="warn">建议</span> 指定为特定属性
          </td>
        </tr>
        <tr>
          <td>duration</td>
          <td>过渡持续时间，单位秒s或毫秒ms，必选参数，且必须是第一个时间参数；第二个时间参数是延迟时间
            <br>UI界面的过渡通常不超过0.4s
          </td>
        </tr>
        <tr>
          <td>timing-function</td>
          <td>时间函数，过渡的效果/方式
            <br>默认是ease
          </td>
        </tr>
        <tr>
          <td>delay</td>
          <td>过渡延迟时间，必须是第二个时间参数；第一个时间参数是过渡时间</td>
        </tr>
      </table>
      <table>
        <caption>时间函数 timing-function</caption>
        <tr>
          <th style="width: 30%;">类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>linear</td>
          <td>以相同速度开始到结束（ cubic-bezier(0, 0, 1, 1) ）</td>
        </tr>
        <tr>
          <td class="warn">ease</td>
          <td>默认；开始慢，然后快，慢下来，结束时非常慢（ cubic-bezier(0.25, 0.1, 0.25, 1)）</td>
        </tr>
        <tr>
          <td>ease-in</td>
          <td>开始慢，结束快（ cubic-bezier(0.42,0,1,1)</td>
        </tr>
        <tr>
          <td>ease-out</td>
          <td>开始快，结束慢（ cubic-bezier(0,0,0.58,1)</td>
        </tr>
        <tr>
          <td>ease-in-out</td>
          <td>中间快，两边慢（ cubic-bezier(0.42,0,0.58,1)</td>
        </tr>
        <tr>
          <td>cubic-bezier(n,n,n,n)</td>
          <td>在cubic-bezier函数中定义自己的值</td>
        </tr>
      </table>
      <div>1. 默认所有属性过渡</div>
      <pre>
  .demo {
    /* ... */
    background-color: #ccc;
    transition: 1s;
  }

  .demo:hover {
    background-color: #f40;
  }      </pre>
      <div>2. 指定属性过渡</div>
      <pre>
  .demo {
    /* ... */
    background-color: #ccc;
    transition: background-color 1s;
  }

  .demo:hover {
    background-color: #f40;
  }      </pre>
      <div>3. 分别指定不同阶段过渡</div>
      <pre>
  .demo {
    /* ... */
    background-color: #ccc;
    transition: background-color 1s;
  }

  .demo:hover {
    background-color: #f40;
    transition: background-color 3s;
  }      </pre>
      <div>4. 多个属性分别过渡</div>
      <pre>
  .demo {
    /* ... */
    background-color: #ccc;
    font-size: 16px;
    transition: background-color 1s, font-size 1s;
  }

  .demo:hover {
    background-color: #f40;
    font-size: 20px;
    transition: background-color 1s, font-size 1s;
  }      </pre>
      <div>4. 多个属性带延迟分别过渡</div>
      <pre>
  .demo {
    /* ... */
    background-color: #ccc;
    font-size: 16px;
    transition: background-color 1s, font-size 1s;
  }

  .demo:hover {
    background-color: #f40;
    font-size: 20px;
    transition: background-color 1s, font-size 1s 1s;
  }      </pre>
    </dd>
    <dd class="tips">
      <div>过渡大多数情况下写在开始状态，也可以写在结束状态，还可以在两个状态中分别指定过渡：配合不同的时间，实现特定的效果，如快进慢退</div>
      <div>过渡自动双向执行：只要状态翻转，过渡就会执行；为了避免这种情况，在结束态指定过渡</div>
      <div>使用单独属性语法可以指定多个过渡属性，必须是一一对应</div>
      <div>display:none和display:block之间不涉及到数字属性，所以过渡无效；可以使用透明度opacity从0到1的过渡</div>
    </dd>
  </dl>
  <div class="chap">案例 Cases</div>
  <dl class="nav-cont">
    <dd>[<span class="iconfont icon-keyboard"></span>] <a href="./demo/login_deer.html">注册登录</a></dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 背景滑动；<a href="../index.html">网站 banner</a>、<a
        href="./demo/up2u.html">网站 按钮</a></dd>
    <dd>
      <div>. 通过调整背景图片的位置实现</div>
      <div>. 初始态背景图片位于左上</div>
      <div>. 鼠标悬停hover时，背景图标位于右上</div>
      <div>. 背景图片尺寸比容器大</div>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 背景滑动；<a href="./demo/car.html">靓车荟 Cars 汉堡菜单</a></dd>
    <dd>. 通过伪元素大小实现</dd>
    <dd>. 开始宽度 width 为0；鼠标 hover 时，宽度为100%</dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] <a href="https://codepen.io/glpla/full/QWYowWx">水平滑动导航条 -
        CodePen</a></dd>
    <dd>. 导航元素hover时，背景条移动一定数量的距离</dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] <a href="https://codepen.io/glpla/full/WNPmNpj">垂直滑动导航条 -
        CodePen</a></dd>
    <dd>. 静态显示文字；鼠标:hover文字滑出；图标滑入</dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] <a href="https://codepen.io/glpla/full/KKJEwQE">侧边栏导航
        - CodePen</a></dd>
    <dd>. 静态折叠；鼠标hover时展开</dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] <a href="/">下划线动画</a> - 使用渐变背景，改变其大小、位置和方向；应显式的指定过渡属性</dd>
    <dd>
      <pre>transition: background-size 0.4s;</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 定制表单元素checkbox - 隐藏input，设计与之关联的label；更多案例，请访问 <a
        href="https://codepen.io/glpla/full/JjwBLdg">表单元素自定义 - CodePen</a></dd>
    <dd>
      <div>. checkbox和label关联，并隐藏checkbox</div>
      <div>. label使用伪元素设计滑块</div>
      <div>. 没有使用 border更加方便计算；宽度中包含边框大小</div>
      <div>
        <input type="checkbox" id="input-cb" hidden>
        <label for="input-cb" class="input-cb"></label>
      </div>
      <pre>
.input-cb {
  display: block;
  position: relative;
  width: 58px;
  height: 38px;
  margin: 100px auto;
  border-radius: 30px;
  padding: 4px;
  background-color: #ccc;
  cursor: pointer;
}

.input-cb::before {
  content: '';
  position: absolute;
  left: 4px;
  top: 4px;
  width: 30px;
  height: 30px;
  border-radius: 50%;
  background-color: #000;
  transition: 0.5s;
}

#input-cb:checked+.input-cb::before {
  left: calc(4px + 50px - 30px);
}</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 模拟placeholder - 输入input聚焦时，使得每个字符移动位置；更多案例，请访问 <a
        href="./demo/up2u.html">网站 - 留言</a></dd>
    <dd>
      <div>. 利用内联变量单独定位每个字符的位置和不同的过渡延迟transition-dalay</div>
      <div>. 尝试用 <a href="./transform.html">变换 - transform</a> 和定位实现，体会不同方案的差异</div>
      <div class="input-box">
        <input type="text" name="" id="" required>
        <div>
          <span style="--delay:0">u</span>
          <span style="--delay:1">s</span>
          <span style="--delay:2">e</span>
          <span style="--delay:3">r</span>
          <span style="--delay:4">n</span>
          <span style="--delay:5">a</span>
          <span style="--delay:6">m</span>
          <span style="--delay:7">e</span>
        </div>
      </div>
      <pre>
.input-box span {
  position: absolute;
  top: 1rem;
  left: calc(var(--delay)*1em + 10px);
  transition: .1s calc(var(--delay)*0.05s);
  pointer-events: none;
}

.input-box input:focus~div span,
.input-box input:valid~div span {
  top: -1rem;
}        </pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] <a href="./demo/up2u.html#msg"><a
          href="https://codepen.io/glpla/full/QWYoLPK">获取焦点focus时重复播放动画 - CodePen</a>；更多案例，请访问<a
          href="./demo/login1.html">登陆Login</a>
    </dd>
    <dd>
      <div>. 帧动画 keyframe</div>
      <div>. 过渡动画 transition</div>
      <div>. 定位</div>
      <div>. 获取焦点选择器 :focus</div>
      <div>. 数据有效选择器 :valid</div>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 主导航 - 见当前页面顶部</dd>
    <dd>
      <div>. 利用导航项的伪元素实现底部渐变</div>
      <div>. 初始态宽度为0</div>
      <div>. 鼠标悬停hover时，宽度为100%</div>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 圆角导航 <a href="./border.html#border-radius">border-radius</a></dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 个人信息卡 - 慢进1s快退0.5s</dd>
    <dd class="basic info-card">
      <img src="./imgs/bg.jpg" alt="">
      <div class="icons">
        <span class="iconfont icon-shouye_o"></span>
        <span class="iconfont icon-gerentouxiang_o"></span>
        <span class="iconfont icon-youjian_o"></span>
        <span class="iconfont icon-fenxiang_o"></span>
      </div>
    </dd>
    <dd>
      <pre>
.info-card img {
  position: relative;
  z-index: 1;
  transform-origin: left top;
  transition: .5s;
}

.info-card:hover img {
  transform: scale(0.8);
  transition: 1s;
}</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 图片大小变化</dd>
    <dd>. 标题位置变化：开始定位在元素外部，hover时定位在元素底部</dd>
    <dd class="basic mars">
      <img class="img" src="./imgs/Mars.jfif" alt="">
      <div class="info">祝融号火星车</div>
    </dd>
    <dd>
      <pre>
.mars .img {
    transform-origin: top;
    transition: .4s;
}

.mars:hover .img {
    transform: scale(.5);
}

.mars .info {
    position: absolute;
    left: 0px;
    bottom: -60px;
    //......
    transition: .4s;
}

.mars:hover .info {
    bottom: 0px;
}</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 旋转过渡：把元素的旋转点调整到左上角</dd>
    <dd class="basic rot">hover查看
      <div></div>
    </dd>
    <dd>
      <pre>
.rot div {
    position: absolute;
    left: -230px;
    top: -230px;
    width: 80%;
    height: 80%;
    border: 10px solid #b22222;
    transform-origin: left top;
    transition: 1s;
}

.rot:hover div {
    left: 10%;
    top: 10%;
    transform: rotate(360deg);
}</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 伪元素旋转位移</dd>
    <dd class="basic tran">
      <div>hover查看</div>
    </dd>
    <dd>
      <pre>
.tran div::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -180px;
    width: 320px;
    height: 180px;
    background-color: #fff;
    transform-origin: left top;
    transition: 1s;
}

.tran div:hover::after {
    transform: rotate(-20deg);
}</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 伪元素缩放</dd>
    <dd>. 伪元素分别设置上下边框</dd>
    <dd>. 需要显式的设置初始状态为0</dd>
    <dd class="basic border">hover查看</dd>
    <dd>
      <pre>
.border::before {
    content: '';
    position: absolute;
    left: 50%;
    top: 50%;
    width: 60%;
    height: 50%;
    border: solid #b22222;
    border-width: 4px 0;
    transform: translate(-50%, -50%) scaleX(0);
    transition: .4s;
}

.border::after {
    content: '';
    position: absolute;
    left: 50%;
    top: 50%;
    width: 50%;
    height: 60%;
    border: solid #b22222;
    border-width: 0px 4px;
    transform: translate(-50%, -50%) scaleY(0);
    transition: .4s;
}

.border:hover::before {
    transform: translate(-50%, -50%) scaleX(1);
}

.border:hover::after {
    transform: translate(-50%, -50%) scaleY(1);
}</pre>
    </dd>
  </dl>
  <div class="chap">步进动画 Steps</div>
  <dl class="nav-cont">
    <dt>说明</dt>
    <dd>
      <div>. 由时间函数 steps()指定的一种特殊的分段过渡效果</div>
      <pre>steps(number_of_steps，direction)</pre>
      <div>. number_of_steps：数字，过渡分几个阶段完成</div>
      <div>. direction：start和end，默认是<span class="warn">end</span>，指每个阶段过渡结束后才渲染；start则是过渡开始前就渲染</div>
      <div>. 矩形的宽度从0px，经过5个阶段，过渡到200px：0-40、40-80、80-120、120-160、160-200</div>
      <div class="flex-box">
        <div class="step-title">steps(5,end)</div>
        <div class="step-demo-end"></div>
      </div>
      <div class="flex-box">
        <div class="step-title">steps(5,start)</div>
        <div class="step-demo-start"></div>
      </div>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] loading进度条 - 从0到100%</dd>
    <dd>
      <div>. 先加载再更新，所以应使用默认的end方向</div>
      <div>. 为了避免状态翻转，在结束态中指定过渡</div>
      <pre>
.step-demo-loading {
    width: 0px;
    height: 50px;
    background-color: #f40;
}

.step-demo-loading:hover {
    width: 100%;
    transition: 10s steps(10);
}</pre>
    </dd>
  </dl>
  <div class="chap">事件 Events</div>
  <dl class="nav-cont">
    <dd>. 侦听过渡动画的执行过程</dd>
    <dt>动画结束</dt>
    <dd>
      <pre>el.addEventListener("transitionend", (event) => {});</pre>
    </dd>
    <dt>动画开始</dt>
    <dd>
      <pre>el.addEventListener("transitionstart", (event) => {});</pre>
    </dd>
    <dt>动画运行</dt>
    <dd>
      <pre>el.addEventListener("transitionrun", (event) => {});</pre>
    </dd>
    <dt>动画取消</dt>
    <dd>
      <pre>el.addEventListener("transitioncancel", (event) => {});</pre>
    </dd>
  </dl>
  <div class="chap">总结与作业 Summary & Homework</div>
  <dl>
    <dt>总结</dt>
    <dd>1. 过渡动画的基本使用</dd>
    <dt>作业</dt>
    <dd class="sn">
      <div>独立完成上述案例</div>
      <div>利用过渡动画，完善个人网站，如导航过渡效果；个人信息过渡效果等等</div>
    </dd>
  </dl>
  <iframe src="../../common/footer.html" frameborder="0" scrolling="no" title="footer" id="footer"></iframe>
  <script src="/utils/custom/ham2024.js"></script>
</body>

</html>