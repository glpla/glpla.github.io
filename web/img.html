<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>图像 &lt;img&gt;</title>
  <link rel="stylesheet" href="../css/common.css">
  <link rel="stylesheet" href="./css/img.css">
  <base target="_blank">
</head>

<body>
  <header>
    <h1>图像</h1>
    <span>&commat;&lt;img&gt;</span>
    <span class="ham iconfont icon-menu"></span>
    <ul class="nav">
      <a href="" style="--delay:0" class="nav-item">Overview</a>
      <a href="" style="--delay:1" class="nav-item">Usage</a>
      <a href="" style="--delay:2" class="nav-item">Cases</a>
      <a href="" style="--delay:3" class="nav-item">Focus</a>
    </ul>
  </header>
  <dl>
    <dt>焦点</dt>
    <dd>如何优雅的展示图片？</dd>
  </dl>
  <div class="chap">概述 Overview</div>
  <dl class="nav-cont">
    <dd>. The &lt;a&gt; HTML element embeds an image into the document. 它本身也是一个容器，这种特性称之为 <a
        href="https://developer.mozilla.org/en-US/docs/Web/CSS/Replaced_element">可替换元素 - replaced element</a>；可以设置大小
    </dd>
    <dd>. 展示图片：功能性、修饰性</dd>
    <dd>. 行盒 inline，同别的 inline 不同，它可以设置宽度；因为它是一个容器</dd>
    <dd>. 单标签；不同IDE的处理方式不尽相同</dd>
    <dd>. 常用图片格式：jpg、png、gif和<span class="warn">Webp</span>格式</dd>
    <dd>. 和 &lt;a&gt;一样，转换为块盒 block 更加方便处理</dd>
    <dd>. 更多信息，请访问 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/img">MDN -
        &lt;img&gt;</a></dd>
    <dd>
      <pre>&lt;img src="" alt="" title=""&gt;</pre>
      <table>
        <caption>常用属性</caption>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>src</td>
          <td>图片URL；可以使用本地图片；也可以使用在线图片；还可以是图片的 base64 编码</td>
        </tr>
        <tr>
          <td>alt</td>
          <td>图片异常时的提示信息</td>
        </tr>
        <tr>
          <td>title</td>
          <td>说明信息，当鼠标移入时显示，很多标签都可以使用 title 属性增加用户体验；实用于桌面端</td>
        </tr>
        <tr>
          <td>decoding</td>
          <td>图片解析方式；auto | sync 同步解析 | async 异步解析</td>
        </tr>
        <tr>
          <td>loading</td>
          <td>图片加载方式；eager 立即加载 | lazy 延迟加载</td>
        </tr>
      </table>
      <table>
        <caption>常用样式</caption>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>width</td>
          <td>宽度</td>
        </tr>
        <tr>
          <td>height</td>
          <td>高度</td>
        </tr>
        <tr>
          <td><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/object-fit">object-fit</a></td>
          <td>图片大小调整方式
            <br>fill：填充整个容器，图片可能被拉伸；默认
            <br>contain：图片会被缩放至被容器完全包含，容器可间会有留白
            <br>cover：保持比例填满容器；图片可能被裁剪
            <br>none：保持图片大小不变
          </td>
        </tr>
        <tr>
          <td><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/object-position">object-position</a></td>
          <td>图片和容器的对齐方式
            <br>center：图片居中；默认
            <br>left
            <br>right
            <br>bottom
            <br>top
          </td>
        </tr>
        <tr>
          <td>vertical-align</td>
          <td>对齐方式：baseline | top | middle | bottom</td>
        </tr>
        <!-- <tr>
          <td>content-visibility</td>
          <td>渲染方式：auto | hidden隐藏 | visible可见</td>
        </tr> -->
      </table>
    </dd>
  </dl>
  <div class="chap">基本使用 Usage</div>
  <dl class="nav-cont">
    <dd>抛弃 &lt;img&gt; 本身原有的容器特性</dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 设置图片尺寸大于实际图像大小，取消默认的fill改为none，使用背景，查看图片的容器特性</dd>
    <dd>
      <pre>
img {
  width: 400px;
  height: 500px;
  object-fit: none;
  background-color: #089;
}      </pre>
    </dd>
    <dt>使用容器包裹图片</dt>
    <dd class="sn">
      <p>当容器和图片尺寸不匹配的时候，可以使用 object-fit 调整大小；使用 object-position 调整位置</p>
      <div>容器大，图片小，容器留有空白</div>
      <div>容器小，图片大，图片展示不完全</div>
      <p><span class="warn">最佳实践</span>：图片宽、高同容器，图片填充模式选择cover填充</p>
      <p class="basic">
        <img class="img1" src="./imgs/alizee.jpg" alt="">
      </p>
      <pre>
.wrap {
  width: 320px;
  height: 320px;
}

/* &lt;img&gt; 的初始化 */
img {
  display: block;//消除空白
  width: 100%;//宽高同容器
  height: 100%;//宽高同容器
  max-width: 100%;//避免小图片被放大；和 width 两者2选一
  object-fit: cover;//按比例填充满容器
}</pre>
    </dd>
    <dd class="tips">
      <div>布局元素只做布局的事，内容元素由各功能标签完成</div>
      <div>容器更多的体现的是 <span class="warn">布局</span> 的职能</div>
      <div>flex 布局中，如果直接使用 &lt;img&gt; 和其它元素，借助 flex 属性等分布局，则 &lt;img&gt; 仍然会撑开，导致布局失效；所以必须使用容器包裹图片</div>
      <div>开发时，应尽量保证图片和容器保持一致</div>
    </dd>
    <dt>直接使用图片 - 不建议</dt>
    <dd class="sn">
      <div>直接使用，按照图片原始大小显示，布局受影响</div>
      <div>仅仅指定图片宽度，其高度自适应。图片高度太大，布局被撑开；图片高度太小，布局被压缩</div>
      <div>同时指定宽度width、高度height；如果宽高比例和图片比例不一致，导致图片变形</div>
      <div>同时指定宽度width、高度height、图片填充模式object-fit；布局不会打乱；元素指定了宽度和高度的情况下才有效</div>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 图片使用 - 指定背景色观察更直接</dd>
    <dd>
      <span>width:</span>
      <input type="radio" name="obj-w" id="unset-w" checked>
      <label for="unset-w">不指定</label>
      <input type="radio" name="obj-w" id="assign-w">
      <label for="assign-w">320px</label><br>
      <span>height:</span>
      <input type="radio" name="obj-h" id="unset-h" checked>
      <label for="unset-h">不指定</label>
      <input type="radio" name="obj-h" id="assign-h">
      <label for="assign-h">320px</label><br>
      <span>object-fit:</span>
      <input type="radio" name="obj-fit" id="unset-fit" checked>
      <label for="unset-fit">不指定</label>
      <input type="radio" name="obj-fit" id="contain">
      <label for="contain">contain</label>
      <input type="radio" name="obj-fit" id="cover">
      <label for="cover">cover</label>
      <img class="img0" src="./imgs/alizee.jpg" alt="">
    </dd>
  </dl>
  <div class="chap">案例 Cases</div>
  <dl class="nav-cont">
    <dt>个人头像</dt>
    <dd>
      <div>方案1. 使用容器</div>
      <div>方案2. 不使用容器</div>
      <div>提示：</div>
      <div>. border-radius: 50%可以使元素边角圆角化</div>
      <div>. padding对设计的影响；容器有padding时，需要同时设置容器和图片的圆角，但容器不需要溢出隐藏；容器无padding时，只需要设置容器的圆角和溢出隐藏</div>
      <div class="avatar-img">
        <img src="./imgs/alizee.jpg" alt="">
      </div>
    </dd>
    <dt>图片导航</dt>
    <dd>方案1. 使用传统图片方式</dd>
    <dd>方案2. 使用背景图片</dd>
    <dd>方案3. 使用伪元素和背景图片</dd>
    <dd>方案4. 使用字体图标</dd>
    <dd>. 使用图片优化个人网站主导航：右键单击图片下载到本地使用，或自行准备素材，完成后检查页面各元素的网络加载情况</dd>
    <dd>
      <nav class="main-nav">
        <a href="javascript:;">
          <img class="ob-img" data-src="./imgs/nav0.png" alt="">
          <span>个人主页</span>
        </a>
        <a href="javascript:;">
          <img class="ob-img" data-src="./imgs/nav1.png" alt="">
          <span>教育背景</span>
        </a>
        <a href="javascript:;">
          <img class="ob-img" data-src="./imgs/nav2.png" alt="">
          <span>培训经历</span>
        </a>
        <a href="javascript:;">
          <img class="ob-img" data-src="./imgs/nav3.png" alt="">
          <span>愿景规划</span>
        </a>
        <a href="javascript:;">
          <img class="ob-img" data-src="./imgs/nav4.png" alt="">
          <span>作品精选</span>
        </a>
      </nav>
    </dd>
  </dl>
  <div class="chap">焦点 Focus</div>
  <dl class="nav-cont">
    <dt>懒加载 LazyLoad</dt>
    <dd class="sn">
      <p>图片的获取和加载特别耗费时间。修饰性图片可以转换为base64、或使用SVG、或使用精灵图、或使用字体图标，都能显著改善加载效果</p>
      <div>加载：每个图片加载的时候都会发生一个服务请求</div>
      <div>解析</div>
      <div>渲染</div>
      <p>. 图片多的情况或者图片大的情况下，需要采取懒加载措施，仅当图片进入到特定范围内时，才触发加载，可以有效避免因图片的加载影响用户体验</p>
      <p>. 综合使用 &lt;img&gt; 属性和 CSS 样式，建议显示的为图片指定尺寸，避免布局变化以达到最佳实践 - Putting width and height on lazyloaded images fixes
        this
        issue and is a best practice</p>
      <p>. 懒加载的处理，不同浏览器有差异；具体情况要看浏览器的发展支持</p>
      <p>. 最稳妥的方式，请使用 <a href="./js/lazyLoad.html">JS懒加载</a>、<a
          href="https://mp.weixin.qq.com/s/j5LhV6vBhkN963Pq0l3GmQ">手把手教你实现图片懒加载</a></p>
      <p>[<span class="iconfont icon-keyboard"></span>] 懒加载 - 在浏览器监测视图中，选择网络，滚动页面，查看图片懒加载情况</p>
      <pre>
&lt;img src="./web/imgs/1.jpg" alt="" loading="lazy" decoding="async"&gt;
...
&lt;img src="./web/imgs/100.jpg" alt="" loading="lazy" decoding="async"&gt;      </pre>
      <pre>
img {
display: block;
width: 300px;
height: 300px;
content-visibility: visible;
margin-bottom: 100vh;
}      </pre>
    </dd>
    <dt class="nav-cont">图片空白 Blank</dt>
    <dd>
      <p>. 使用容器包裹图片时，当容器加上边框时，不管图片是cover还是contain，容器底部都会有空白</p>
      <p>. 图片的inline特性导致：彼此间有一定的缝隙</p>
      <p>. 这个情况只在特定场合会暴露问题：仅仅使用容器和图片，并非普遍存在</p>
      <p>. 还有就是早期WEB的开发还没有规范可以遵循</p>
      <p>. 不加边框虽然没有影响，但是问题始终在那里</p>
      <div class="wrap">
        <img class="img3" src="./imgs/alizee.jpg" alt="">
      </div>
    </dd>
    <dt>解决方案</dt>
    <dd>
      <p>移除&lt;img&gt;的inline特性</p>
      <div>1. 元素方面</div>
      <p>. 将&lt;img&gt;转换为块盒block[<span
          class="iconfont icon-iconfontshoucang"></span>]；任何能将其转换为块盒block的方法都可以，如下面的使用弹性盒子；或其它如定位、网格布局等等</p>
      <p>. 让&lt;img&gt;浮动起来；需要清除浮动；更多信息，请访问 <a href="./float.html">float</a> 一节</p>
      <p>. 设置&lt;img&gt;的对齐方式为非baseline，如middle；更多信息，请访问 <a href="./focus.html">vertical-align</a> 相关内容</p>
    </dd>
    <dd class="grid2">
      <div class="el-box">
        <span>img {</span><br>
        <input type="radio" name="dis" id="dis0">
        <label for="dis0">display: block;</label><br>
        <input type="radio" name="dis" id="dis1">
        <label for="dis1">float: left;</label><br>
        <input type="radio" name="dis" id="dis2">
        <label for="dis2">vertical-align: middle;</label><br>
        <span>}</span>
      </div>
      <div class="wrap">
        <img class="img3" src="./imgs/alizee.jpg" alt="">
      </div>
    </dd>
    <dd>2. 容器方面</dd>
    <dd>2.1 设置容器的字体大小font-size为0[行高line-height为0]</dd>
    <dd>2.2 容器使用特定布局，如弹性盒子flex，容器各子项将被强制转换为block</dd>
    <dd class="grid2">
      <div class="el-box">
        <span>.wrap {</span><br>
        <input type="radio" name="wrap" id="wrap0">
        <label for="wrap0">font-size: 0;</label><br>
        <input type="radio" name="wrap" id="wrap1">
        <label for="wrap1">line-height: 0;</label><br>
        <input type="radio" name="wrap" id="wrap2">
        <label for="wrap2">display: flex;</label><br>
        <span>}</span>
      </div>
      <div class="wrap">
        <img class="img3" src="./imgs/alizee.jpg" alt="">
      </div>
    </dd>
    <dt>SVG</dt>
    <dd>. 将图片转换成&lt;svg&gt;使用；从<span class="warn">结构</span> 上优化页面；如字体图标网站 <a
        href="https://www.iconfont.cn/">iconfont</a>
      可以将图标文件转换为&lt;svg&gt;</dd>
    <dd>. 适合少量、小体积、装饰性图片</dd>
    <dd>. 更多信息，请访问 <a href="./svg.html">SVG</a></dd>
    <dt>Base64</dt>
    <dd>
      <div>. 对图片编码，然后指定给src或背景图片；从<span class="warn">样式</span> 上优化页面</div>
      <div>. 更多信息，请访问 <a href="https://c.runoob.com/front-end/59/">Base64</a></div>
      <figure class="code">
        <pre>
background-image: url(data:image/jpeg;base64...);</pre>
      </figure>
    </dd>
  </dl>
  <div class="chap">总结与作业 Summary & Homework</div>
  <dl>
    <dt>总结 Summary</dt>
    <dd class="sn">
      <div>图片 &lt;img&gt; 使用</div>
      <div>样式：对象大小 object-fit；对象对齐 object-position；边框 border；圆角边框 border-radius</div>
    </dd>
    <dd class="tips">
      <div>功能型图片，使用&lt;img&gt;；修饰型图片，建议使用背景图片</div>
      <div>过多图片使用技巧，请访问 <a href="https://css-tricks.com/a-fancy-hover-effect-for-your-avatar/">hover avatar</a>
      </div>
    </dd>
    <dt>作业 Homework</dt>
    <dd>. 使用图片完善个人网站，如导航、头像、相册等等</dd>
  </dl>
  <iframe src="../../common/footer.html" frameborder="0" scrolling="no" title="footer" id="footer"></iframe>
  <script src="./lib/lazyload.js"></script>
  <script src="/utils/custom/ham2024.js"></script>
</body>

</html>