<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>下拉列表 &lt;select&gt;</title>
  <link rel="stylesheet" href="../css/common.css">
  <link rel="stylesheet" href="./css/select.css">
  <base target="_blank">
</head>

<body>
  <header>
    <h1>下拉列表</h1>
    <span>&lt;select&gt;</span>
  </header>
  <dl>
    <dt>概述 Overview</dt>
    <dd>
      <div>. inline-block</div>
      <div>. 配合 &lt;option&gt; 使用；其子元素只能是 &lt;option&gt; block</div>
      <div>. name-value比较特别。name写在 &lt;select&gt;；value 写在 &lt;option&gt;，也可以省略 value，系统会把 &lt;option&gt; 的值自动作为value
      </div>
      <div>. &lt;select&gt;的宽度决定了&lt;option&gt;的宽度</div>
      <div>. &lt;option&gt; 很难动态增加或减少</div>
      <div>. 使用 &lt;optgroup&gt; 分组；分组标题不能选择，仅仅作为提示</div>
      <div>. 如果需要动态增加或减少选项，需要从头定制。如利用无序列表实现选项；更多设计技巧，请访问 <a
          href="https://www.filamentgroup.com/lab/select-css.html">making
          a better one</a>
      </div>
      <div>. 更多信息，请访问 <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/select">MDN -
          &lt;select&gt;</a></div>
      <table>
        <caption>属性</caption>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>size</td>
          <td>显示几个option；通常不指定，以免影响页面布局</td>
        </tr>
        <tr>
          <td>selected</td>
          <td>默认选中当前&lt;option&gt;</td>
        </tr>
        <tr>
          <td>multiple</td>
          <td>多选；使用较少</td>
        </tr>
      </table>
      <table>
        <caption>事件</caption>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>change</td>
          <td>选择改变时</td>
        </tr>
      </table>
    </dd>
    <dd>1. 单组下拉列表 <select name="school" id="school-single">
        <option value="guilin">桂林</option>
        <option value="xiamen">厦门</option>
        <option value="foshan">佛山</option>
        <option value="haikou">海口</option>
        <option value="dongguan" selected>东莞</option>
      </select>
    </dd>
    <dd>
      <pre>
&lt;select name="school" id="school-single"&gt;
    &lt;option value="guilin"&gt;guilin&lt;/option&gt;
    &lt;option value="xiamen"&gt;xiamen&lt;/option&gt;
    &lt;option value="foshan"&gt;foshan&lt;/option&gt;
    &lt;option value="haikou"&gt;haikou&lt;/option&gt;
    &lt;option value="dongguan" selected&gt;dongguan&lt;/option&gt;
&lt;/select&gt;</pre>
      <pre>
let single = document.querySelector("#school-single")
single.addEventListener('change', function () {
    console.log(this.value);
})</pre>
    </dd>
    <dd>2. 分组下拉列表 - &lt;optgroup&gt; <select name="school" id="school-mul">
        <optgroup label="college">
          <option value="guilin">guilin</option>
          <option value="xiamen">xiamen</option>
          <option value="foshan">foshan</option>
          <option value="haikou">haikou</option>
          <option value="dongguan" selected>dongguan</option>
        </optgroup>
        <optgroup label="unit">
          <option value="gl">gl</option>
          <option value="sh">sh</option>
        </optgroup>
      </select></dd>
    <dd>
      <pre>
&lt;select name="school" id="school-mul"&gt;
  &lt;optgroup label="college"&gt;
      &lt;option value="guilin"&gt;guilin&lt;/option&gt;
      &lt;option value="xiamen"&gt;xiamen&lt;/option&gt;
      &lt;option value="foshan"&gt;foshan&lt;/option&gt;
      &lt;option value="haikou"&gt;haikou&lt;/option&gt;
      &lt;option value="dongguan" selected&gt;dongguan&lt;/option&gt;
  &lt;/optgroup&gt;
  &lt;optgroup label="unit"&gt;
      &lt;option value="gl"&gt;gl&lt;/option&gt;
      &lt;option value="sh"&gt;sh&lt;/option&gt;
  &lt;/optgroup&gt;
&lt;/select&gt;</pre>
      <pre>
let mul = document.querySelector("#school-mul")
mul.addEventListener('change', function () {
  console.log(this.value);
})</pre>
    </dd>
    <dt>样式 Style</dt>
    <dd>
      <div>. 可以设置 &lt;select&gt; 和 &lt;option&gt; 的字体颜色、大小、选项选中，其它可以设置的属性比较少</div>
      <div>. 很少直接使用。都是指定 <a
          href="https://developer.mozilla.org/en-US/docs/Learn/Forms/Advanced_form_styling#appearance_controlling_os-level_styling">MDN
          - appearance</a>
        以便重新设计 - notoriously difficult to style productively with CSS</div>
      <div class="tips">它是一个替换元素（replaced element），其内部结构是由浏览器控制的，不允许通过这些伪元素进行自定义</div>
      <img src="./imgs/select0.png" alt="" loading="lazy">
      <div class="fig-sn">默认样式</div>
      <img src="./imgs/select1.png" alt="" loading="lazy">
      <div class="fig-sn">定制样式</div>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 初始化样式</dd>
    <dd>
      <div>去除边框、轮廓、背景</div>
      <div>字体和颜色继承父级</div>
      <div>默认加重；各选项不加重</div>
      <pre>
select {
  outline: none;
  border: none;
  font: inherit;
  color: inherit;
  background-color: transparent;
  font-weight: 600;
  padding: 0 10px;
}

select option {
  font-weight: normal;
}</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 定制样式1 - 不增加元素 </dd>
    <dd class="sn">
      <div>隐去默认样式</div>
      <div>使用边框border</div>
      <div>使用背景图片代替小三角，不能使用伪元素</div>
      <div>增加hover和focus设计</div>
      <select name="" id="" class="select">
        <option value="桂林">广西壮族自治区桂林市</option>
        <option value="厦门">福建省厦门市</option>
        <option value="佛山">广东省佛山市</option>
        <option value="海口">海南省海口市</option>
        <option value="佛山">广东省东莞市</option>
      </select>
      <pre>
.select {
  appearance: none;
  display: block;
  width: 100%;
  border: 1px solid #aaa;
  background-color: #fff;
  border-radius: 6px;
  padding: 4px 10px;
  background-image: url(../imgs/down.png);
  background-repeat: no-repeat;
  background-position: right 10px top 10px;
}

.select:hover {
  border-color: #888;
}

.select:focus {
  border-color: var(--main-color-blue);
  box-shadow: 0 0 4px rgba(0, 0, 0, .2);
}      </pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 定制样式2 - 额外增加1个容器、1个遮罩和1个标记</dd>
    <dd>
      <div>容器元素：提供小箭头的定位依据</div>
      <div>标记元素：模拟小箭头，<a href="./position.html">定位</a> 在右侧</div>
      <div>遮罩元素：接收选中的数据，增加更多控制；原有&lt;select&gt;被覆盖</div>
      <div>值和显示的数据分别设计；只显示长的备选信息中的关键信息</div>
      <div>增加事件，动态修改选择内容</div>
    </dd>
    <dd class="custom-wrap">
      <select name="school" id="school-custom">
        <option value="桂林">广西壮族自治区桂林市</option>
        <option value="厦门">福建省厦门市</option>
        <option value="佛山">广东省佛山市</option>
        <option value="海口" selected>海南省海口市</option>
        <option value="佛山">广东省东莞市</option>
      </select>
      <div class="mask"></div>
      <span class="iconfont icon-unfoldmore"></span>
      <pre>
&lt;div class="custom-wrap"&gt;
    &lt;select name="school" id="school-custom"&gt;
        &lt;option value="桂林"&gt;广西壮族自治区桂林市&lt;/option&gt;
        &lt;option value="厦门"&gt;福建省厦门市&lt;/option&gt;
        &lt;option value="佛山"&gt;广东省佛山市&lt;/option&gt;
        &lt;option value="海口" selected&gt;海南省海口市&lt;/option&gt;
    &lt;/select&gt;
    &lt;div class="mask"&gt;&lt;/div&gt;
    &lt;span class="iconfont icon-unfoldmore"&gt;&lt;/span&gt;
&lt;/div&gt;</pre>
    </dd>
    <dd class="sn">
      <div>增加一个容器包裹表单元素 &lt;select&gt;；相对定位</div>
      <div>增加一个遮罩元素 mask，显示选中的值/城市名；绝对定位到容器前部；取消事件响应</div>
      <div>增加一个标记元素，显示上下箭头，提示用户可以操作；绝对定位到容器后部；取消事件响应</div>
      <div>设置 &lt;select&gt; 字体颜色透明/不显示</div>
      <div>设置 &lt;option&gt; 颜色为黑色</div>
      <div>增加 JavaScript；一开始获取 &lt;select&gt; 的值给遮罩元素 mask</div>
      <div>为 &lt;select&gt; 增加 change 事件，每次改变时修改遮罩 mask 的文本</div>
      <div>增加其它设计，如 :hover</div>
      <div>更多设计细节，请参考<a href="https://login.taobao.com/">天猫登录页面</a>、<a href="./demo/login_taobao.html">淘宝高仿</a></div>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 定制样式3 - 全新定制，自己写一个，详细情况，请访问 <a href="./demo/select.html">下拉列表</a>
    </dd>
    <dd>
      <div>完全抛弃表单元素，从0开始设计</div>
      <div>无法响应表单事件</div>
      <img src="./imgs/select2.png" alt="" loading="lazy">
    </dd>
  </dl>
  <div class="chap">总结与作业 Summary & Homework</div>
  <dl>
    <dt>总结 Summary</dt>
    <dd>. &lt;select&gt; 的使用</dd>
    <dd>. &lt;select&gt; 样式的设计</dd>
    <dd>. 选择器：伪类选择器 :hover、:checked</dd>
    <dd>. appearance 在样式设计中的作用</dd>
    <dt>作业 Homework</dt>
    <dd>. 使用 &lt;select&gt; 元素完善个人网站的留言板或信息采集表的设计</dd>
  </dl>
  <a class="back2top" target="_self" href="#">
    <svg t="1733899399303" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
      p-id="31526" width="32" height="32">
      <path
        d="M414.90963001 900.3614811l0-291.27111111 194.18074112 0 0 291.27111111 242.72592554 0 0-388.3614811 145.63555556 0-485.45185223-436.90666667-485.45185223 436.90666667 145.63555556 0 0 388.3614811z"
        fill="#ffffff" p-id="31527"></path>
    </svg>
  </a>
  <div id="footer"></div>
  <script src="/utils/custom/footer.js"></script>
  <script src="/utils/custom/back2top.js"></script>
  <script>
    let single = document.querySelector("#school-single")
    single.addEventListener('change', function () {
      console.log(this.value);
    })
    let mul = document.querySelector("#school-mul")
    mul.addEventListener('change', function () {
      console.log(this.value);
    })
    let custom = document.querySelector('#school-custom')
    let mask = document.querySelector('.mask')
    mask.innerHTML = custom.value;
    custom.addEventListener('change', () => {
      console.log(custom.value);
      mask.innerHTML = custom.value;
    })
  </script>
</body>

</html>