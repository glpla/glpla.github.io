<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>对象 Object</title>
  <link rel="stylesheet" href="../../css/common.css">
  <base target="_blank">
</head>

<body>
  <header>
    <h1>对象</h1>
    <span>&commat;Object</span>
  </header>
  <dl>
    <dd>.在 {} 中以值对 key-value pair 的形式定义</dd>
    <dd>.对象其实就是一组数据和功能的集合</dd>
    <dd>.使用点语法或数组语法访问值对</dd>
    <dt>对象静态方法</dt>
    <dd class="sn">
      <div>entries()：返回对象入口|键值对组成的数组</div>
      <div>keys()：返回对象键 key 组成的数组</div>
      <div>values()：返回对象值 value 组成的数组</div>
      <div>assign(obj,obj1)：赋值；将 obj1 的内容给 obj；要求各值对一一对应</div>
    </dd>
    <dt>对象实例方法</dt>
    <dd class="sn">
      <div>增/改</div>
      <pre>
let obj = { name: 'cnplaman', age: 18 }
obj.gender = 'male';
obj.marriage = true;
obj.age = 24;
console.log(obj.name);
console.log(obj['name']);
console.log(obj);</pre>
      <div>删</div>
      <pre>
delete obj.marriage;
console.log(obj);</pre>
      <div>查：定义查询字符串</div>
      <pre>
let sql = 'age' in obj
console.log(sql);      </pre>
      <div>长度：无法直接获取</div>
      <p>.通过对象Object的静态方法：entries()、keys()或values()间接获取；这三个方法返回入口、键和值的数组</p>
      <pre>
console.log(Object.keys(obj).length);
console.log(Object.values(obj).length);
console.log(Object.entries(obj).length);      </pre>
      <div>遍历对象：for-in；枚举</div>
      <pre>
// 遍历的是key，要想获取值value，则配合对象使用
for (item in obj) {
  console.log(item, obj[item]);
}

//fail
// obj.forEach(item => {
//   console.log(item);
// })

// fail：TypeError: obj is not iterable
// for (item of obj) {
//   console.log(item);
// }

//也可以先entries()、keys()或values()，再使用数组遍历方法，如for()或forEach()
Object.keys(obj).forEach(item => {
  console.log(item);
})
Object.values(obj).forEach(item => {
  console.log(item);
})
Object.entries(obj).forEach((item) => {
  console.log(item);
})
//解构再输出
Object.entries(obj).forEach(([value, key]) => {
  console.log(key, value);
})</pre>
    </dd>
    <dd>.函数的参数传递是传值；但是函数内部对对象的访问是引用</dd>
    <dd>
      <pre>
function setObj(obj) {
    obj.name = 'glpla';
}
var stu = new Object();
setObj(stu);
console.log(stu.name);</pre>
    </dd>
  </dl>
  <div class="chap">对象的解构 {}</div>
  <dl>
    <dd>
      <div>.将数组中的值或对象的属性取出，赋值给其他变量</div>
      <div>.对象解构使用花括号{}；<a href="./array.html">数组</a> 解构使用[]；多个变量以逗号,分隔</div>
      <div>.解构赋值的时候：</div>
      <div>.可以更改名字</div>
      <div>.可以嵌套解构</div>
      <div>.可以指定默认值</div>
      <div>.高频使用；更多信息，请访问 <a
          href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">Destructuring
          Assignment</a></div>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 框架中按需结构包</dd>
    <dd>
      <pre>
import { createApp } from 'vue'
import { computed, onMounted, reactive, ref } from 'vue';
const { add, dec } = require('./module/test')</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 示例数据</dd>
    <dd>
      <pre>let obj = { name: 'cnplaman', age: 18, address: { city: 'gz', code: 541000 } }</pre>
      <div>普通解构赋值 - 获取obj中的属性赋值给同名变量</div>
      <pre>let { name, age } = obj</pre>
      <div>重命名赋值 - 使用冒号:指定新变量名</div>
      <pre>let { name: uname, age: uage } = obj</pre>
      <div>默认赋值 - 解构时修改属性值或增加一个新属性</div>
      <pre>let { name: uname, age: uage, gender = 'male' } = obj</pre>
      <div>嵌套解构赋值</div>
      <pre>let { name, age, address: { city } } = obj</pre>
      <pre>let { name, age, address: { code: postcode } } = obj</pre>
    </dd>
  </dl>
  <iframe src="../../common/footer.html" frameborder="0" scrolling="no" title="footer" id="footer"></iframe>
  <script>
    let test = 'hi';
    (function test() {
      test = '123';
      console.log(test);
    })();
  </script>
</body>

</html>