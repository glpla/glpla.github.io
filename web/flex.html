<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>弹性布局 Flex</title>
  <link rel="stylesheet" href="../css/common.css">
  <link rel="stylesheet" href="./css/flex.css">
  <base target="_blank">
</head>

<body>
  <header>
    <h1>&commat;Flex</h1>
    <span class="ham iconfont icon-menu"></span>
    <nav class="nav">
      <a href="" style="--delay:0" class="nav-item">容器</a>
      <a href="" style="--delay:1" class="nav-item">子项</a>
      <a href="" style="--delay:2" class="nav-item">布局</a>
      <a href="" style="--delay:3" class="nav-item">案例</a>
    </nav>
  </header>
  <dl>
    <dt>概念</dt>
    <dd>.将一个元素声明为弹性盒子后，该元素称为容器 container，其中的子元素为项目 item。容器元素可以：</dd>
    <dd>.控制其直接子元素的排列方式 - 横排、竖排</dd>
    <dd>.控制其直接子元素的对齐方式 - 左、中、右还是上、中、下或者分散</dd>
    <dd>.控制其直接子元素渲染的先后顺序</dd>
    <dd>.内部直接子元素，如果是非块元素，将会变为块元素 block</dd>
    <dd>
      <pre>display: flex;</pre>
    </dd>
    <dd>
      <figure class="img-sn">
        <img class="ob-img"
          data-src="https://developer.mozilla.org/en-US/docs/Learn/CSS/CSS_layout/Flexbox/flex_terms.png" alt="">
        <figcaption>图例</figcaption>
      </figure>
    </dd>
  </dl>
  <div class="chap">容器 container</div>
  <dl class="nav-cont">
    <dd>.弹性盒子/容器的属性</dd>
    <dt>flex-direction</dt>
    <dd>
      <div>.<span class="warn">主轴main axis</span>方向：默认是行 row</div>
      <pre>flex-direction: row | row-reverse | column | column-reverse;</pre>
    </dd>
    <dt>justify-content</dt>
    <dd>
      <div>.<span class="warn">主轴main axis</span>方向元素的分布，默认是flex-start</div>
      <div>.有时候通过指定子项的margin为auto，也可以实现两端分布</div>
      <div>.通常是<span class="warn">有剩余空间</span>才会涉及到分布</div>
      <pre>justify-content: flex-start | flex-end | center | space-between | space-around | space-evenly;</pre>
    </dd>
    <dt>align-items</dt>
    <dd>
      <div>.<span class="warn">交叉轴cross
          axis</span>方向元素的对齐，默认是stretch：所有元素的高度拉伸至和容器元素/最高的元素一致[为子项item添加背景可以直观的看出来]；其它选项则是根据自身的高度开始或结束对齐</div>
      <div>.如果指定了或者继承了行高和高度一致，则已经是垂直方向居中</div>
      <div>.通常是<span class="warn">有剩余空间</span>才会涉及到分布</div>
      <pre>align-items: stretch | center | flex-start | flex-end;</pre>
    </dd>
    <dt>flex-wrap</dt>
    <dd>
      <div>.容器容纳不下元素时，是否换行</div>
      <div>.默认不换行nowrap</div>
      <div>.响应式布局中，使用自动换行wrap往往比网格grid布局更灵活；见后续布局一节</div>
      <pre>flex-wrap: nowrap | wrap | wrap-reverse;</pre>
    </dd>
    <dt>gap</dt>
    <dd>.各子项的间隔</dd>
    <dd>.网格布局中也可以使用；非常爽</dd>
    <dd>.微信小程序的弹性盒子好像不支持</dd>
  </dl>
  <div class="chap">子项 item</div>
  <dl class="nav-cont">
    <dd>.弹性盒子的直接子元素</dd>
    <dt>flex-basis</dt>
    <dd>
      <div>.flex item在主轴上分配/ <span class="warn">预留</span> 的空间，相当于指定了width。默认为auto，根据元素内容分配</div>
      <div>.指定了该属性后，原有的宽度或高度就无效了</div>
      <pre>flex-basis: number | auto;</pre>
    </dd>
    <dt>flex-grow</dt>
    <dd>
      <div>.容器有剩余空间时，是否放大子项。默认为0，不放大</div>
      <pre>flex-grow: number;</pre>
    </dd>
    <dt>flex-shrink</dt>
    <dd>
      <div>.容器空间不足时，是否压缩子项。默认为1，压缩[不压缩我放不下啊]</div>
      <pre>flex-shrink: number;</pre>
    </dd>
    <dd class="mt2">[<span class="iconfont icon-keyboard"></span>] 多余空间分配</dd>
    <dd>容器为500；各项目原始大小各为50；剩余500-50-50=400；去除100的间隔，可分配的空间为300；第一项放大因子为1，分到100；第2项放大因子为2，分到200；最后大小分别为150、250</dd>
    <dd>
      <pre>
.box {
  display: flex;
  width: 500px;
  gap: 100px;
}

.box div:nth-child(1) {
  width: 50px;
  height: 50px;
  flex-grow: 1;
  background-color: #f40;
}

.box div:nth-child(2) {
  width: 50px;
  height: 50px;
  flex-grow: 2;
  background-color: #f40;
}</pre>
    </dd>
    <dd class="mt2">[<span class="iconfont icon-keyboard"></span>] 空间不足的压缩分配</dd>
    <dd class="sn">
      <div>容器300，子项各为200</div>
      <pre>200+200=400=300+100->200-50，200-50</pre>
      <div>容器300，子项分别为400、200</div>
      <pre>400+200=600=300+300->400-200，200-100</pre>
    </dd>
    <dt>复合属性</dt>
    <dd>flex: flex-grow flex-shrink flex-basis</dd>
    <dd>
      <table>
        <tr>
          <th>类别</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>flex: none;</td>
          <td>0 0 auto；默认</td>
        </tr>
        <tr>
          <td>flex: auto;</td>
          <td>1 1 auto；自动分配；如果有，则放大；否则压缩；根据内容大小来分，不是平分</td>
        </tr>
        <tr>
          <td>flex: 1;</td>
          <td>1 1 0%；用来平分空间</td>
        </tr>
        <tr>
          <td>flex: 0;</td>
          <td>0 1 0；不知道这个有什么用</td>
        </tr>
        <tr>
          <td>flex: 1 1 num;</td>
          <td>预留一定空间，多了则放大，不够则压缩<br>可以简写为flex: num;</td>
        </tr>
      </table>
    </dd>
    <dt>align-self</dt>
    <dd>.单独设置子项在辅轴上的对齐方式</dd>
    <dd>.容器需要有多余的空间</dd>
  </dl>
  <div class="chap">布局 Layout</div>
  <dl class="nav-cont">
    <dd id="layout">[<span class="iconfont icon-keyboard"></span>] 单个元素在容器内的水平垂直居中；<a
        href="./grid.html#layout">网格布局</a>实现；更多案例请访问<a href="./demo/login_deer.html">一路有你</a></dd>
    <dd>
      <div>方案1 - 只操作容器</div>
      <pre>
body {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
}</pre>
      <div>方案2 - 需要同时操作容器和子项</div>
      <pre>
body {
  display: flex;
  height: 100vh;
}

.wrap {
  margin: auto;
}</pre>
    </dd>
    <dd class="mt2">[<span class="iconfont icon-keyboard"></span>] <a
        href="https://codepen.io/glpla/full/xxMBqzV">两列/左右导航布局 - CodePen</a></dd>
    <dd class="sn">
      <div>flex布局 - 需要单独设置每个子项属性</div>
      <pre>
.flex {
    display: flex;
}

.flex .left {
    flex-basis: 80px;
}

.flex .right {
    flex: 1;
}</pre>
      <div>grid布局 - 使用 <a href="./grid.html">grid</a> 布局更加简单</div>
      <pre>
body {
  display: grid;
  grid-template-columns: auto 1fr;
}</pre>
    </dd>
    <dd class="mt2">[<span class="iconfont icon-keyboard"></span>] <a
        href="https://codepen.io/glpla/full/abXMJjN">三列/圣杯布局/双飞燕 - CodePen</a>；左右固定；中间自适应</dd>
    <dd class="sn">
      <div>flex布局 - flex需要单独设置每个子项属性</div>
      <pre>
.wrap {
    display: flex;
}

.wrap .left, .wrap .right {
    flex-basis: 80px;
}

.wrap .main {
    flex: 1;
}</pre>
      <div>grid布局 - 使用 <a href="./grid.html">grid</a> 布局更加简单</div>
      <pre>
body {
  display: grid;
  grid-template-columns: auto 1fr auto;
}</pre>
    </dd>
    <dd class="mt2">[<span class="iconfont icon-keyboard"></span>] <a
        href="https://codepen.io/glpla/full/oNmVZMZ">栈布局/煎饼布局 - CodePen</a></dd>
    <dd>.上下高度固定；中间自适应</dd>
    <dd>.为了容纳更多内容，中间指定overflow-y: auto</dd>
    <dd>.多见于移动端</dd>
    <dd class="sn">
      <div>flex布局 - flex需要单独设置每个子项属性</div>
      <pre>
.wrap {
    display: flex;
    flex-direction: column;
    height: 300px;
}

.wrap .cup-top,
.wrap .cup-bottom {
    height: 80px;
}

.wrap .cup-middle {
    flex: 1;
    overflow-y: auto;
}</pre>
      <div>grid布局 - 使用 <a href="./grid.html">grid</a> 布局更加简单</div>
      <pre>
body {
  display: grid;
  grid-template-rows: auto 1fr auto;
  min-height: 100vh;
}</pre>
    </dd>
    <dd class="mt2">[<span class="iconfont icon-keyboard"></span>] <a href="https://codepen.io/glpla/full/JjxzWaR">等分布局
        - CodePen</a></dd>
    <dd>.分别占1份、1份、1份</dd>
    <dd>.很容易调整成不等分布局，如分别占1份、2份、3份、1份</dd>
    <dd class="sn">
      <div>flex布局 - flex需要单独设置每个子项属性</div>
      <pre>
.wrap {
    display: flex;
}

.wrap .item {
    flex: 1;
}</pre>
      <div>grid布局 - 使用 <a href="./grid.html">grid</a> 布局更加简单</div>
      <pre>
.wrap {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
}</pre>
      <p>或</p>
      <pre>
.wrap {
  display: grid;
  grid-template-columns: 1fr 2fr 3fr 1fr;
}</pre>
    </dd>
  </dl>
  <div class="chap">案例 Cases</div>
  <dl class="nav-cont">
    <dd>[<span class="iconfont icon-keyboard"></span>] 主导航，更多案例参考<a href="./demo/up2u.html">个人网站导航</a></dd>
    <dd>. 使用2个felx盒子：两端分布</dd>
    <dd>. 使用1个felx盒子：第一项右侧空白自动分配</dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] <a href="./demo/miltary.html">强军梦强国梦</a></dd>
    <dd>采用粘性定位</dd>
    <dd>使用&lt;figure&gt;布局展示图片和标题</dd>
    <dd>使用&lt;footer&gt;展示版权信息；使用媒体查询为移动端指定垂直方向的弹性盒子，并指定图片order为-1</dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] <a href="https://codepen.io/glpla/full/LYqaWMW">手风琴 - CodePen</a>
    </dd>
    <dd>. 开始平分空间；:hover时，使用flex-basis重新分配</dd>
    <dd>. 如何实现竖版的手风琴效果？</dd>
    <dd>
      <pre>
.cor-wrap div {
  flex: 1;
}

.cor-wrap div:hover {
  flex-basis: 200px;
}</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] <a href="https://codepen.io/glpla/full/RwvdpdQ">九宫格 - CodePen</a>
    </dd>
    <dd>每个项目的宽度和gap相加不能超过100%</dd>
    <dd>通常取项目的宽度为25%-30%，剩下的空间由auto自动分配，故而可以撑满到3个子项，实现9宫格</dd>
    <dd>
      <pre>
.sudoku {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  max-width: 800px;
  width: 100%;
}

.sudoku .item {
  width: 30%;
  flex: auto;
  aspect-ratio: 16/9;
}</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] 面包屑导航 - flex方式</dd>
    <dd class="sn">
      <div>子项不做任何处理：边缘不齐[剩余空间没有利用起来]</div>
      <ul class="bread">
        <li>html</li>
        <li>css</li>
        <li>js</li>
        <li>javascript</li>
        <li>node.js</li>
        <li>npm</li>
        <li>iconfont</li>
        <li>express</li>
        <li>vue3</li>
        <li>vue-cli</li>
        <li>less</li>
        <li>swiper</li>
        <li>position</li>
        <li>relative</li>
        <li>absolute</li>
        <li>fixed</li>
        <li>sticky</li>
        <li>flex</li>
        <li>grid</li>
        <li>media</li>
        <li>max-width</li>
        <li>min-width</li>
      </ul>
      <pre>
.bread {
    display: flex;
    flex-wrap: wrap;
}</pre>
      <div>改进方式</div>
      <p>. 子项显式指定flex:auto；利用剩余空间</p>
      <p>. 子项指定最大宽度max-width，避免最后一项铺满[是否需要铺满，看设计需求]</p>
      <ul class="bread adv">
        <li>html</li>
        <li>css</li>
        <li>js</li>
        <li>javascript</li>
        <li>node.js</li>
        <li>npm</li>
        <li>iconfont</li>
        <li>express</li>
        <li>vue3</li>
        <li>vue-cli</li>
        <li>less</li>
        <li>swiper</li>
        <li>position</li>
        <li>relative</li>
        <li>absolute</li>
        <li>fixed</li>
        <li>sticky</li>
        <li>flex</li>
        <li>grid</li>
        <li>media</li>
        <li>max-width</li>
        <li>min-width</li>
      </ul>
      <pre>
.bread.adv li {
    flex: auto;
    max-width: 100px;
    //
}</pre>
    </dd>
    <dd>[<span class="iconfont icon-keyboard"></span>] <a href="./demo/masonry.html">瀑布流</a></dd>
  </dl>
  <div class="chap">总结与作业 Summary & Homework</div>
  <dl>
    <dt>总结</dt>
    <dd>.弹性盒子布局的特性和使用</dd>
    <dd class="tips">
      <div>1.同grid不同的是，flex的子项不能单独指定主轴上的对齐方式，即justify-self是无效的；可以使用margin实现</div>
      <div>2.布局容器做布局的事</div>
      <div>3.flex对使用绝对定位的子项仍然具有布局的能力</div>
    </dd>
    <dt>作业</dt>
    <dd>1.利用弹性盒子布局，优化个人网站导航</dd>
  </dl>
  <iframe src="../../common/footer.html" frameborder="0" scrolling="no" title="footer" id="footer"></iframe>
</body>
<script src="./lib/lazyload.js"></script>
<script src="/utils/custom/ham2024.js"></script>

</html>