<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>登录 Login</title>
    <link rel="stylesheet" href="../css/common.css">
    <base target="_blank">
</head>

<body>
    <header>
        <h1>登录</h1>
        <span>&commat;Login</span>
    </header>
    <dl>
        <dt>普通登录</dt>
        <dd>使用用户名、密码或邮箱、验证码登录</dd>
        <dd>多利用表单实现</dd>
        <dt>小程序授权登录</dt>
        <dd>借助小程序的宿主环境，通过小程序的授权实现登录</dd>
        <dd>必须要用户主动授权才可以实现；基于用户对产品充分了解并预知可能的风险</dd>
        <dt>早期接口</dt>
        <dd>以下接口均被官方回收或调整，建议使用 <a
                href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/userProfile.html">头像昵称填写</a>
            完善用户信息，即新项目示例代码所示
        </dd>
        <dd class="sn">
            <div><a
                    href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/user-info/wx.getUserProfile.html">wx.getUserProfile</a>
            </div>

            <div><a
                    href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/user-info/wx.getUserInfo.html">wx.getUserInfo</a>
            </div>
            <div><a
                    href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/user-info/UserInfo.html">UserInfo</a>
            </div>
            <div><a
                    href="https://developers.weixin.qq.com/miniprogram/dev/component/button.html">&lt;button&gt;</a>的open-type
            </div>
            <div><a
                    href="https://developers.weixin.qq.com/miniprogram/dev/component/open-data.html">&lt;open-data&gt;</a>
            </div>
        </dd>
        <dt>最佳实践</dt>
        <dd>获取用户头像仅仅使用临时链接，保存到本地或发送到服务器；详情请参考<a href="./case5.html">头像上传和下载</a></dd>
        <dd>核心代码参考</dd>
        <dd>
            <pre>
&lt;button open-type="chooseAvatar" bind:chooseavatar="chooseAvatar"&gt;
    &lt;image src="{{userInfo.avatar}}" mode="aspectFill" /&gt;
&lt;/button&gt;
&lt;text&gt;{{userInfo.nickName}}&lt;/text&gt;
&lt;input type="nickname" bindinput="iptName" /&gt;</pre>
            <pre>
const defaultAvatarUrl = 'https://glpla.github.io/imgs/qrcode_glpla.github.io.png'
Page({
    data: {
        userInfo:{
            avatar: defaultAvatarUrl,
            nickName:''
        }
    },
    chooseAvatar(e) {
        this.setData({
            'userInfo.avatar': e.detail.avatarUrl
        })
        },
    iptName(e){
        this.setData({
            'userInfo.nickName':e.detail.value
        })
    }
})</pre>
        </dd>
    </dl>
    <div id="footer"></div>
    <script src="/utils/custom/footer.js"></script>
    <script src="/utils/custom/star.js"></script>
</body>

</html>