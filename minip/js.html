<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>逻辑 JS</title>
  <link rel="stylesheet" href="../css/common.css">
  <base target="_blank">
</head>

<body>
  <header>
    <h1>逻辑</h1>
    <span>JS</span>
  </header>
  <dl>
    <dd>微信小程序逻辑文件的后缀名是 <span class="warn">.js</span></dd>
    <dd>包含：数据、<a href="./events.html">事件处理函数</a> 、<a href="./lifetime.html">生命周期函数</a>
      和其他函数，如<a href="./page_event.html">页面特定事件</a></dd>
    <dt>数据 Data</dt>
    <dd>数据类型同JavaScript数据类型：Number、String，Array，Object等等</dd>
    <dd>按照用途可以分为两种：响应式数据和静态数据；如无特别说明，都是指响应式数据</dd>
    <dd>响应式数据用于渲染页面，在data中定义</dd>
    <dd>静态数据在page顶级说明，和data同级，且不需要指定数据类型</dd>
    <dd>
      <pre>
data: {
  msg: 'hi,there',
  url: '/images/cal0.png',
  tempFilePath: null,
  userInfo:{
    uage:18,
    ugender:'女',
    uname:'glpla',
    usn:20221001
  }
},
uploadFileUrl: null</pre>
    </dd>
    <dt>数据绑定</dt>
    <dd>结构中使用：插值表达式{{}}</dd>
    <dd>可以绑定内容；也可以绑定属性，如样式class和内联样式</dd>
    <dd>可以使用三元表达式</dd>
    <dd>
      <pre>
&lt;text&gt;{{msg}}&lt;/text&gt;
&lt;image class="avatar" src="{{url}}" mode="widthFix" /&gt;
&lt;input class="ipt {{iptName?'border-focus':''}}" type="text"/&gt;</pre>
    </dd>
    <dd>js中使用：this.data.varible_name</dd>
    <dd>js中修改：this.setData()</dd>
    <dd>js中使用函数类似</dd>
    <dd>1. 修改简单数据</dd>
    <dd>
      <pre>
this.setData({
  msg: 'welcome back'
})</pre>
    </dd>
    <dd>2. 修改复杂数据</dd>
    <dd>
      <pre>
this.setData({
  "userInfo.uage": 24
})</pre>
    </dd>
    <dd class="tips">配合调试器的AppData查看</dd>
    <dt>其它数据</dt>
    <dd>除了使用本页面定义的数据外，还可以使用其它页面的数据，如从app.js中获取数据、从服务器拉取数据</dd>
    <dd>在page()外侧引入app.js的数据</dd>
    <dd>
      <pre>const app = getApp()</pre>
    </dd>
  </dl>
  <iframe src="../common/footer.html" frameborder="0" scrolling="no" title="footer" id="footer"></iframe>
  <script src="/utils/custom/star.js"></script>
</body>

</html>