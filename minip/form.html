<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>表单 Form</title>
    <link rel="stylesheet" href="../css/common.css">
    <base target="_blank">
</head>

<body>
    <header>
        <h1>表单</h1>
        <span>&lt;form&gt;</span>
        <span class="iconfont icon-menu ham"></span>
        <nav class="nav">
            <a href="" style="--delay:5" class="nav-item">overview</a>
            <a href="" style="--delay:4" class="nav-item">form</a>
            <a href="" style="--delay:3" class="nav-item">button</a>
            <a href="" style="--delay:2" class="nav-item">label</a>
            <a href="" style="--delay:1" class="nav-item">input</a>
            <a href="" style="--delay:0" class="nav-item">radio</a>
            <a href="" style="--delay:1" class="nav-item">checkbox</a>
            <a href="" style="--delay:2" class="nav-item">textarea</a>
            <a href="" style="--delay:3" class="nav-item">picker</a>
            <a href="" style="--delay:3" class="nav-item">slider</a>
            <a href="" style="--delay:4" class="nav-item">switch</a>
        </nav>
    </header>
    <dl>
        <dt class="nav-cont">说明</dt>
        <dd>
            <div>&lt;form&gt;和其中的大多数表单元素，基本同HTML5保持一致；具体效果视真机系统而定</div>
            <div>表单数据提交时，请确保每个表单元素都指定属性 name；value可以由事件获取</div>
            <div>请为每个表单元素都指定样式类 class</div>
            <div>应初始化表单元素样式，如主题颜色和其它属性；部分需要配合类共同设置</div>
            <div>组件还有一个共同属性：disabled</div>
            <pre>
radio,
checkbox{
    zoom:0.8;
}            </pre>
        </dd>
        <dd class="tips">
            <div>一定要预览。。。一定要预览。。。一定要预览。。。</div>
        </dd>
        <dt class="nav-cont">&lt;form&gt;</dt>
        <dd>
            <p>表单容器；行内元素 inline</p>
            <p>默认情况下，表单大小为0，即使添加了表单元素</p>
            <p>生产环境下，通常是 <span class="warn">垂直方向</span> 分布各表单元素</p>
            <p>为了 <span class="warn">优雅分隔</span> 各表单元素，通常增加一个内层元素&lt;view&gt;，由它布局，而仅仅将&lt;form&gt;当作一个 <span
                    class="warn">功能元素</span></p>

            <pre>
&lt;form bindsubmit="submit"&gt;
    &lt;view class="form-cont"&gt;
        // 其它表单元素
        //按钮指定表单类型，可以触发表单的默认提交行为
        &lt;button form-type="submit"&gt;submit&lt;/button&gt;
    &lt;/view&gt;
&lt;/form&gt;</pre>
            <pre>
.form-cont {
    display: flex;
    flex-direction: column;
    gap: 10px;
    width: 80%;
    padding: 10px;
    background-color: #f40;
    margin: 0 auto;
    }</pre>
            <p>表单事件：提交和重置</p>
            <table>
                <tr>
                    <th>事件</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>bindsubmit</td>
                    <td>数据提交；默认</td>
                </tr>
                <tr>
                    <td>bindreset</td>
                    <td>表单重置时会触发 reset 事件</td>
                </tr>
            </table>
            <p>提交时，可以在事件对象 e.detail 中获取表格各元素的值；需要配合指定了 form-type 为 submit 属性的按钮 &lt;button&gt; 一起使用，见上面示例的结构</p>
            <p>多数情况下，抛弃表单元素 &lt;form&gt;，使用普通结构，通过 <a href="./model.html">数据双向绑定</a> 和自定义事件提交数据</p>
            <pre>
submit(e) {
    console.log(e.detail);
}</pre>
        </dd>
        <dt class="nav-cont">&lt;button&gt;</dt>
        <dd>
            <p>功能强大的按钮；有特定的类型属性和事件属性；块元素 block</p>
            <p>如果设置了高度后，记得设置同样大小的行高，以确保文字垂直方向居中</p>
            <p>除了默认的 tap 事件外，按钮其它事件大多和相应的开发能力关联</p>
            <p>更多信息，请访问 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/button.html">官方文档 -
                    button</a></p>
            <table>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>loading</td>
                    <td>是否带 loading 图标；然并卵</td>
                </tr>
                <tr>
                    <td>form-type</td>
                    <td>按钮类型；点击触发 form 的submit/reset 事件
                        <br>submit：单击后，默认行为是提交表单
                        <br>reset：单击后，默认行为是重置表单
                    </td>
                </tr>
                <tr>
                    <td>open-type</td>
                    <td>微信开放能力
                        <br>chooseAvatar：获取用户头像
                        <br>contact：客服
                        <br>getPhoneNumber：获取用户手机(企业号)
                        <br>getUserInfo：获取用户信息(接口被收回)
                    </td>
                </tr>
                <tr>
                    <td>bindchooseavatar</td>
                    <td>获取用户头像回调，返回头像临时地址；配合 open-type 使用</td>
                </tr>
                <tr>
                    <td>bindcontact</td>
                    <td>客服消息回调；配合 open-type 使用</td>
                </tr>
            </table>
            <p class="tips">开发能力 open-type 的使用，要随时关注官方接口的更新变化</p>
            <p>在调试器中，查看按钮的代理样式，体会样式初始化的重要性</p>
            <pre>
button{
    width: 100%!important;
    background-color: var(--themeColor);
    color: #fff;    
}            </pre>
            <p>部分样式需要在特定页面的类中设置</p>
            <pre>
.btn{
    padding: 0;
    margin: 0;
    font-weight: normal;
    border-radius: 0;
}</pre>
            <p class="example-sn">打开客服对话框 - 用户点击后，打开客服对话框</p>
            <pre>&lt;button open-type="contact" bindcontact='getContact'&gt;getContact&lt;/button&gt;</pre>
            <pre>
getContact(e){
    console.log(e);
}</pre>
            <p class="example-sn">选择用户头像 - 用户点击后，打开头像选择对话框</p>
            <pre>&lt;button open-type="chooseAvatar" bindchooseavatar='getAvatar'&gt;getAvatar&lt;/button&gt;</pre>
            <pre>
getAvatar(e){
    console.log(e.detail);//http://tmp/bi86Wd1sI41s8ea8eb984c16d03bff787972d38e3ce6.jpg
}</pre>
        </dd>
        </dd>
        <dt class="nav-cont">&lt;label&gt;</dt>
        <dd>
            <p>行内元素 inline，用以扩展用户点击、改善用户体验</p>
            <p>使用属性 for，配合指定了 id 的表单元素，如&lt;input&gt;、&lt;radio&gt;、&lt;checkbox&gt;，可以改进表单组件的可用性</p>
            <pre>&lt;checkbox value="撸码" id="code" /&gt;&lt;label for="code"&gt;撸码&lt;/label&gt;</pre>
            <p>或：使用 &lt;label&gt; 包裹表单元素，此时应略去for属性</p>
            <pre>
&lt;label&gt;
    &lt;checkbox color="#3498db" value="撸码" /&gt;撸码
&lt;/label&gt;</pre>
        </dd>
        <dt class="nav-cont">&lt;input&gt;</dt>
        <dd>
            <p>单行文本输入框；块元素 block</p>
            <p>原生组件，字体是系统字体，<span class="warn">无法设置</span> font-family</p>
            <p>更多信息，请访问 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/input.html">官方文档 - input</a>
            </p>
            <table>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>value</td>
                    <td>输入框初始内容；字符串；必填</td>
                </tr>
                <tr>
                    <td>type</td>
                    <td>输入框类型
                        <br>text：文本键盘；默认
                        <br>number：数字键盘
                        <br>digit：带小数点的数字键盘
                        <br>idcard：身份证键盘
                        <br>nickname：昵称键盘
                        <br>safe-password：密码
                    </td>
                </tr>
                <tr>
                    <td>password</td>
                    <td>是否是密码类型；布尔；默认假</td>
                </tr>
                <tr>
                    <td>placeholder</td>
                    <td>输入框为空时占位符；字符串</td>
                </tr>
                <tr>
                    <td>placeholder-style</td>
                    <td>指定样式；仅支持设置颜色、大小和字重；需预览查看效果</td>
                </tr>
                <tr>
                    <td>placeholder-class</td>
                    <td>指定样式类；仅支持设置颜色、大小和字重；推荐</td>
                </tr>
                <tr>
                    <td>maxlength</td>
                    <td>最大输入长度；数字</td>
                </tr>
                <tr>
                    <td>focus</td>
                    <td>获取焦点；直接拉起键盘便于输入；但是用户欣赏不到你的设计</td>
                </tr>
                <tr>
                    <td>confirm-type</td>
                    <td>设置键盘右下角按钮的文字，仅适用text类型
                        <br>send：发送
                        <br>search：搜索
                        <br>next：下一个
                        <br>go：前往
                        <br>done：完成；默认
                    </td>
                </tr>
                <tr>
                    <td>bindinput</td>
                    <td>键盘输入时触发</td>
                </tr>
                <tr>
                    <td>bindfocus</td>
                    <td>输入框聚焦时触发</td>
                </tr>
                <tr>
                    <td>bindblur</td>
                    <td>输入框失去焦点时触发</td>
                </tr>
                <tr>
                    <td>bindconfirm</td>
                    <td>点击完成按钮时触发</td>
                </tr>
            </table>
            <p>普通文本输入 - text</p>
            <pre>
&lt;view class="item"&gt;
    &lt;text&gt;昵称&lt;/text&gt;
    &lt;input class="ipt" type="text" name="uname" placeholder="您的昵称" maxlength="8" value="{{user.uname}}" /&gt;
&lt;/view&gt;</pre>
            <p>昵称输入 - nickname；会自动拉取你的微信昵称</p>
            <pre>
&lt;view class="item"&gt;
    &lt;text&gt;昵称&lt;/text&gt;
    &lt;input class="ipt" type="nickname" name="uname" placeholder="您的昵称" maxlength="8" value="{{user.uname}}" /&gt;
&lt;/view&gt;</pre>
            <p>密码输入 - safe-password；隐藏真实信息</p>
            <pre>
&lt;view class="item border-btm"&gt;
    &lt;text&gt;密码&lt;/text&gt;
    &lt;input class="ipt" type="safe-password" name="upass" placeholder="您的密码" maxlength="8" value="{{user.upass}}" /&gt;
&lt;/view&gt;
</pre>
            <p>数值型输入 - digit；打开数字键盘，需要在手机端查看效果</p>
            <pre>
&lt;view class="item border-btm"&gt;
    &lt;text&gt;学号&lt;/text&gt;
    &lt;input class="ipt" type="digit" name="usn" placeholder="您的学号" maxlength="8" value="{{user.usn}}" /&gt;
&lt;/view&gt;
</pre>
        </dd>
        <dt class="nav-cont">&lt;radio&gt; &lt;radio-group&gt;</dt>
        <dd>
            <p>多选一组件：单选按钮和单选按钮组</p>
            <p>行内块元素 inline-block</p>
            <p>HTML中，需要给每个 &lt;radio&gt; 指定 name 以确保是一组；微信小程序中，只需要给 &lt;radio-group&gt; 指定 name 即可</p>
            <p>更多信息，请访问 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/radio.html">官方文档 - radio</a>
            </p>
            <table>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>value</td>
                    <td>单选按钮的值</td>
                </tr>
                <tr>
                    <td>checked</td>
                    <td>当前是否选中</td>
                </tr>
                <tr>
                    <td>color</td>
                    <td>单选按钮选中时的颜色</td>
                </tr>
                <tr>
                    <td>bindchange</td>
                    <td>选中项发生改变时触发；从事件对象e.detail获取当前选中的值</td>
                </tr>
            </table>
            <pre>
&lt;radio-group bindchange="getGender" name="ugender"&gt;
    &lt;radio color="#3498db" value="男" checked /&gt;男
    &lt;radio color="#3498db" value="女" /&gt;女
&lt;/radio-group&gt;</pre>
            <p>利用给定的数据和当前值是否相等来决定哪个是选中状态；使用 &lt;label&gt; 改写下例，提升用户体验</p>
            <pre>
&lt;radio-group bindchange="getGender" name="ugender"&gt;
    &lt;radio color="#3498db" value="男" checked="{{user.ugender=='男'}}" /&gt;男
    &lt;radio color="#3498db" value="女" checked="{{user.ugender=='女'}}" /&gt;女
&lt;/radio-group&gt;</pre>
            <pre>
getGender(e){
    console.log(e.detail.value);
}</pre>
        </dd>
        <dt class="nav-cont">&lt;checkbox&gt; &lt;checkbox-group&gt;</dt>
        <dd>
            <p>行内块元素 inline-block</p>
            <p>多选按钮；多选按钮组</p>
            <p>更多信息，请访问 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/checkbox.html">官方文档 -
                    checkbox</a></p>
            <table>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>value</td>
                    <td>多选按钮的值；数组</td>
                </tr>
                <tr>
                    <td>checked</td>
                    <td>当前是否选中</td>
                </tr>
                <tr>
                    <td>color</td>
                    <td>多选按钮选中时的颜色</td>
                </tr>
                <tr>
                    <td>bindchange</td>
                    <td>选中项发生改变时触发；从事件对象e.detail获取当前选中的值（ <span class="warn">数组</span> ）</td>
                </tr>
            </table>
            <p>使用 &lt;label&gt; 改写下例，提升用户体验</p>
            <pre>
&lt;checkbox-group bindchange="getLike" name='ulike'&gt;
    &lt;checkbox color="#3498db" value="撸码" /&gt;撸码
    &lt;checkbox color="#3498db" value="睡觉" checked/&gt;睡觉
    &lt;checkbox color="#3498db" value="电玩" /&gt;电玩
    &lt;checkbox color="#3498db" value="唱歌" checked/&gt;唱歌
    &lt;checkbox color="#3498db" value="跳舞" /&gt;跳舞
    &lt;checkbox color="#3498db" value="美食" checked/&gt;美食
&lt;/checkbox-group&gt;</pre>
            <pre>
getLike(e){
    console.log(e.detail.value);
}</pre>
        </dd>
        <dt class="nav-cont">&lt;textarea&gt;</dt>
        <dd>
            <p>多行输入；默认大小300*150；块元素 block</p>
            <p><span class="warn">显式</span> 的设置宽度和容器保持一样大小；同时设置内边距padding以使得文字内收一定距离</p>
            <p>最大长度140个字符</p>
            <p>更多信息，请访问 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/textarea.html">官方文档 -
                    textarea</a></p>
            <table>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>value</td>
                    <td>输入框初始内容；字符串；必填</td>
                </tr>
                <tr>
                    <td>placeholder</td>
                    <td>输入框为空时占位符；字符串</td>
                </tr>
                <tr>
                    <td>maxlength</td>
                    <td>最大输入长度；数字</td>
                </tr>
                <tr>
                    <td>focus</td>
                    <td>获取焦点</td>
                </tr>
                <tr>
                    <td>confirm-type</td>
                    <td>设置键盘右下角按钮的文字，仅适用text类型
                        <br>send：发送
                        <br>search：搜索
                        <br>next：下一个
                        <br>go：前往
                        <br>done：完成；默认
                    </td>
                </tr>
                <tr>
                    <td>bindfocus</td>
                    <td>输入框聚焦时触发</td>
                </tr>
                <tr>
                    <td>bindinput</td>
                    <td>键盘输入时触发；组合使用</td>
                </tr>
                <tr>
                    <td>bindblur</td>
                    <td>输入框失去焦点时触发；组合使用</td>
                </tr>
                <tr>
                    <td>bindconfirm</td>
                    <td>点击完成按钮时触发；组合使用</td>
                </tr>
                <tr>
                    <td>bindlinechange</td>
                    <td>输入框行数变化时调用</td>
                </tr>
            </table>
            <pre>
&lt;view&gt;
    &lt;text&gt;简介&lt;/text&gt;
    &lt;textarea name="udesc" value="{{user.udesc}}" /&gt;
&lt;/view&gt;</pre>
            <pre>
textarea{
    width: 100%;
    padding: 20rpx;
}</pre>
        </dd>
        <dt class="nav-cont">&lt;picker&gt;</dt>
        <dd>
            <p>块元素 block</p>
            <p>从底部弹起的滚动选择器，如：时间选择器、日期选择器、地区选择器</p>
            <p>除了下述通用的属性外，不同的mode，picker拥有不同的属性；如时间类的都有开始start、结束end等</p>
            <p>更多信息，请访问 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/picker.html">官方文档 -
                    picker</a></p>
            <table>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>mode</td>
                    <td>模式
                        <br>selector：普通选择器
                        <br>multiSelector：多列选择器
                        <br>time：时间选择器；hh:mm
                        <br>date：日期选择器；YYYY-MM-DD
                        <br>region：省市区选择器
                    </td>
                </tr>
                <tr>
                    <td>range</td>
                    <td>数据列表|范围</td>
                </tr>
                <tr>
                    <td>bindcancel</td>
                    <td>取消选择时触发</td>
                </tr>
                <tr>
                    <td>bindchange</td>
                    <td>选择时触发</td>
                </tr>
            </table>
            <p class="example-sn">弹出菜单 - ind和list是data中的数据</p>
            <pre>
&lt;picker 
    mode="selector" 
    value="{{ind}}" 
    range="{{list}}" 
    bindchange="pick"
&gt;
    {{list[ind]}}
&lt;/picker&gt;</pre>
            <pre>
pick(e){
    console.log(e.detail.value)
}</pre>
            <p class="example-sn">时间选择 - time；可以指定起始 start和结束 end</p>
            <pre>
&lt;picker 
    mode="time" 
    value="{{time}}" 
    bindchange="selTime"
&gt;
    {{time]}}
&lt;/picker&gt;</pre>
            <pre>
selTime(e){
    this.setData({
        time: e.detail.value
    })
}</pre>
            <p class="example-sn">日期选择 - date；通常应指定起始 start和结束 end</p>
            <pre>
&lt;picker 
    mode="date" 
    value="{{user.ubirth}}" 
    start="2000-07-01"
    end="2026-12-31"
    bindchange="selDate"
&gt;
    {{user.ubirth}}
&lt;/picker&gt;</pre>
            <pre>
selDate(e){
    this.setData({
        date: e.detail.value
    })
}</pre>
            <p class="example-sn">地区选择 - region；e.detail.value返回一个数组：省、市、区；可以不使用地图实现选择</p>
            <pre>
&lt;picker 
    mode="region" 
    value="{{region}}" 
    bindchange="selRegion"
&gt;
    {{region}}
&lt;/picker&gt;</pre>
            <pre>
selRegion(e){
    this.setData({
        region: e.detail.value
    })
}</pre>
        </dd>
        <dt class="nav-cont">&lt;slider&gt;</dt>
        <dd>
            <p>块元素 block</p>
            <p>滑动选择器</p>
            <p>更多信息，请访问 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/slider.html">官方文档 -
                    slider</a></p>
            <table>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>min</td>
                    <td>最小值</td>
                </tr>
                <tr>
                    <td>max</td>
                    <td>最大值</td>
                </tr>
                <tr>
                    <td>step</td>
                    <td>步长</td>
                </tr>
                <tr>
                    <td>show-value</td>
                    <td>是否显示值；默认不显示</td>
                </tr>
                <tr>
                    <td>backgroundColor</td>
                    <td>背景条的颜色</td>
                </tr>
                <tr>
                    <td>activeColor</td>
                    <td>已选择的颜色</td>
                </tr>
                <tr>
                    <td>block-size</td>
                    <td>滑块的大小，取值范围为 12 - 28</td>
                </tr>
                <tr>
                    <td>block-color</td>
                    <td>滑块颜色</td>
                </tr>
                <tr>
                    <td>bindchange</td>
                    <td>拖动后触发</td>
                </tr>
                <tr>
                    <td>bindchanging</td>
                    <td>拖动过程中触发</td>
                </tr>
            </table>
            <p class="example-sn">年龄选择</p>
            <pre>
&lt;slider 
    activeColor="#3498db" 
    backgroundColor="#ccc" 
    block-size="24" 
    block-color="#3498db" 
    bindchange="selAge" 
    min="18" 
    max="24" 
    name="uage" 
    value="{{user.uage}}" 
    show-value 
/&gt;</pre>
            <pre>
selAge(e){
    console.log(e.detail.value)
}</pre>
            <p class="example-sn">播放进度调节</p>
        </dd>
        <dt class="nav-cont">&lt;switch&gt;</dt>
        <dd>
            <p>行内块元素 inline-block</p>
            <p>开关选择器</p>
            <p>也可以使用checkbox实现功能</p>
            <p>更多信息，请访问 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/switch.html">官方文档 -
                    switch</a></p>
            <table>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>checked</td>
                    <td>是否选中</td>
                </tr>
                <tr>
                    <td>color</td>
                    <td>已选择的颜色</td>
                </tr>
                <tr>
                    <td>type</td>
                    <td>switch, checkbox；默认是switch</td>
                </tr>
                <tr>
                    <td>bindchange</td>
                    <td>选择后触发</td>
                </tr>
            </table>
        </dd>
    </dl>
    <iframe src="../common/footer.html" frameborder="0" scrolling="no" title="footer" id="footer"></iframe>
    <script src="/utils/custom/ham2024.js"></script>
    <script src="/utils/custom/star.js"></script>
</body>

</html>