<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>表单 Form</title>
    <link rel="stylesheet" href="../css/common.css">
    <base target="_blank">
</head>

<body>
    <header>
        <h1>表单</h1>
        <span>&lt;form&gt;</span>
    </header>
    <dl>
        <dd>&lt;form&gt;和其中的大多数表单元素，基本同HTML5保持一致；具体效果视系统而定</dd>
        <dd>表单数据提交时，必须指定name；value可以由事件获取</dd>
        <dd class="tips">
            <div>全局初始化样式，如主题颜色和其它属性；部分需要单独设置</div>
            <div>设置页面变量，便于同时控制元素的属性，如margin、padding、background-color和border等</div>
            <div>设置样式时，请为每个表单元素都指定样式class</div>
            <div>数据提交服务器时，请确保每个表单元素都指定属性name</div>
            <div>学会使用调试器检查样式样式</div>
            <div>一定要预览。。。一定要预览。。。一定要预览。。。</div>
        </dd>
        <dt>常用组件</dt>
        <dd>表单组件繁多，常见的分类如下表</dd>
        <dd class="sn">
            <div>&lt;form&gt;</div>
            <p>表单容器</p>
            <p>通常显式的设置宽度，其中表单元素会自动充满，无须单独设置每个宽度</p>
            <pre>
.form {
    width: 90%;
    background-color: #f3f4f5;
}</pre>
            <p>提交时，可以在事件对象e.detail中获取表格各元素的值</p>
            <table>
                <tr>
                    <td>bindsubmit</td>
                    <td>携带数据提交；默认</td>
                </tr>
                <tr>
                    <td>bindreset</td>
                    <td>表单重置时会触发 reset 事件</td>
                </tr>
            </table>
            <div>&lt;label&gt;</div>
            <p>用for改进指定了id的表单组件的可用性；扩展了用户的点击，提升用户体验</p>
            <pre>&lt;checkbox value="撸码" id="code" /&gt;&lt;label for="code"&gt;撸码&lt;/label&gt;</pre>
            <p>使用lable包裹表单元素时，应略去for属性</p>
            <pre>
&lt;label&gt;
    &lt;checkbox color="#3498db" value="撸码" /&gt;撸码
&lt;/label&gt;            </pre>
            <div>&lt;input&gt;</div>
            <p>输入框</p>
            <p>input 组件是一个原生组件，字体是系统字体，所以<span class="warn">无法设置</span> font-family</p>
            <table>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>value</td>
                    <td>输入框初始内容；字符串；必填</td>
                </tr>
                <tr>
                    <td>type</td>
                    <td>
                        <details>
                            <summary>输入框类型</summary>
                            <div>text：文本键盘；默认</div>
                            <div>number：数字键盘</div>
                            <div>digit：带小数点的数字键盘</div>
                            <div>idcard：身份证键盘</div>
                        </details>
                    </td>
                </tr>
                <tr>
                    <td>password</td>
                    <td>是否是密码类型；布尔；默认假</td>
                </tr>
                <tr>
                    <td>placeholder</td>
                    <td>输入框为空时占位符；字符串</td>
                </tr>
                <tr>
                    <td>placeholder-style</td>
                    <td>指定样式；仅支持设置颜色、大小和字重；需预览查看效果</td>
                </tr>
                <tr>
                    <td>placeholder-class</td>
                    <td>指定样式类；仅支持设置颜色、大小和字重；推荐</td>
                </tr>
                <tr>
                    <td>maxlength</td>
                    <td>最大输入长度；数字</td>
                </tr>
                <tr>
                    <td>focus</td>
                    <td>获取焦点；直接拉起键盘便于输入；但是用户欣赏不到你的设计</td>
                </tr>
                <tr>
                    <td>confirm-type</td>
                    <td>
                        <details>
                            <summary>设置键盘右下角按钮的文字，仅适用text类型</summary>
                            <div>send：发送</div>
                            <div>search：搜索</div>
                            <div>next：下一个</div>
                            <div>go：前往</div>
                            <div>done：完成；默认</div>
                        </details>
                    </td>
                </tr>
                <tr>
                    <td>bindinput</td>
                    <td>键盘输入时触发</td>
                </tr>
                <tr>
                    <td>bindfocus</td>
                    <td>输入框聚焦时触发</td>
                </tr>
                <tr>
                    <td>bindblur</td>
                    <td>输入框失去焦点时触发</td>
                </tr>
                <tr>
                    <td>bindconfirm</td>
                    <td>点击完成按钮时触发</td>
                </tr>
            </table>
            <div>&lt;radio&gt; &lt;radio-group&gt;</div>
            <p>单选按钮；单选按钮组</p>
            <table>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>value</td>
                    <td>单选按钮的值</td>
                </tr>
                <tr>
                    <td>checked</td>
                    <td>当前是否选中</td>
                </tr>
                <tr>
                    <td>color</td>
                    <td>单选按钮的颜色；同accent-color</td>
                </tr>
                <tr>
                    <td>bindchange</td>
                    <td>选中项发生改变时触发；从事件对象e.detail获取当前选中的值</td>
                </tr>
            </table>
            <p>实际应用中，利用给定的数据和当前值是否相等来决定哪个是选中状态</p>
            <pre>
&lt;radio-group bindchange="getGender" name="ugender"&gt;
    &lt;radio value="男" checked="{{userInfo.ugender=='男'}}" color="#3498db" /&gt;男
    &lt;radio value="女" checked="{{userInfo.ugender=='女'}}" color="#3498db" /&gt;女
&lt;/radio-group&gt;</pre>
            <div>&lt;checkbox&gt; &lt;checkbox-group&gt;</div>
            <p>多选按钮；多选按钮组</p>
            <table>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>value</td>
                    <td>多选按钮的值</td>
                </tr>
                <tr>
                    <td>checked</td>
                    <td>当前是否选中</td>
                </tr>
                <tr>
                    <td>color</td>
                    <td>多选按钮的颜色；同accent-color</td>
                </tr>
                <tr>
                    <td>bindchange</td>
                    <td>选中项发生改变时触发；从事件对象e.detail获取当前选中的值</td>
                </tr>
            </table>
            <div>&lt;textarea&gt;</div>
            <p>多行输入；默认大小300*150；block</p>
            <p>建议：显式的设置宽度和容器保持一样大小；同时设置内边距padding以使得文字内收一定距离</p>
            <pre>
textarea{
    width: 100%;
    padding: 20rpx;
    word-break: break-all;
}</pre>
            <table>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>value</td>
                    <td>输入框初始内容；字符串；必填</td>
                </tr>
                <tr>
                    <td>placeholder</td>
                    <td>输入框为空时占位符；字符串</td>
                </tr>
                <tr>
                    <td>maxlength</td>
                    <td>最大输入长度；数字</td>
                </tr>
                <tr>
                    <td>focus</td>
                    <td>获取焦点</td>
                </tr>
                <tr>
                    <td>confirm-type</td>
                    <td>
                        <details>
                            <summary>设置键盘右下角按钮的文字，仅适用text类型</summary>
                            <div>send：发送</div>
                            <div>search：搜索</div>
                            <div>next：下一个</div>
                            <div>go：前往</div>
                            <div>done：完成；默认</div>
                        </details>
                    </td>
                </tr>
                <tr>
                    <td>bindfocus</td>
                    <td>输入框聚焦时触发</td>
                </tr>
                <tr>
                    <td>bindinput</td>
                    <td>键盘输入时触发；组合使用</td>
                </tr>
                <tr>
                    <td>bindblur</td>
                    <td>输入框失去焦点时触发；组合使用</td>
                </tr>
                <tr>
                    <td>bindconfirm</td>
                    <td>点击完成按钮时触发；组合使用</td>
                </tr>
                <tr>
                    <td>bindlinechange</td>
                    <td>输入框行数变化时调用</td>
                </tr>
            </table>
            <div>&lt;button&gt;</div>
            <p>功能强大的按钮</p>
            <p>如果设置了高度后，记得设置同样大小的行高，以确保文字垂直方向居中</p>
            <p>除了默认的tap事件外，按钮其它事件大多和相应的开发能力关联</p>
            <table>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>loading</td>
                    <td>是否带 loading 图标；然并卵</td>
                </tr>
                <tr>
                    <td>form-type</td>
                    <td>
                        <details>
                            <summary>按钮类型；点击触发 form 的submit/reset 事件</summary>
                            <div>submit：提交表单</div>
                            <div>reset：重置表单</div>
                        </details>
                    </td>
                </tr>
                <tr>
                    <td>open-type</td>
                    <td>
                        <details>
                            <summary>微信开放能力</summary>
                            <div>chooseAvatar：获取用户头像；从bindchooseavatar回调函数的detail中返回头像临时地址</div>
                            <div>contact：客服；需要绑定客服事件bindcontact</div>
                            <div>getPhoneNumber：获取用户手机(企业号)</div>
                            <div>getUserInfo：获取用户信息(接口被收回)</div>
                        </details>
                    </td>
                </tr>
            </table>
            <p class="example-sn">在调试器中，查看按钮的代理样式，体会样式初始化的重要性</p>
            <pre>
button{
    width: 100%!important;
    background-color: var(--themeColor);
    color: #fff;    
}            </pre>
            <p>部分样式需要在特定页面的类中设置</p>
            <pre>
.btn{
    padding: 0;
    margin: 0;
    font-weight: normal;
    border-radius: 0;
}</pre>
            <div>&lt;picker&gt;</div>
            <p>从底部弹起的滚动选择器，如：时间选择器、日期选择器、地区选择器</p>
            <p>除了下述通用的属性外，不同的mode，picker拥有不同的属性；如时间类的都有开始start、结束end等</p>
            <p>更多信息，请访问 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/picker.html">官方文档 -
                    picker</a></p>
            <table>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>mode</td>
                    <td>
                        <details>
                            <summary>模式</summary>
                            <div>selector：普通选择器</div>
                            <div>multiSelector：多列选择器</div>
                            <div>time：时间选择器</div>
                            <div>date：日期选择器</div>
                            <div>region：省市区选择器</div>
                        </details>
                    </td>
                </tr>
                <tr>
                    <td>range</td>
                    <td>数据列表|范围</td>
                </tr>
                <tr>
                    <td>bindcancel</td>
                    <td>取消选择时触发</td>
                </tr>
            </table>
            <p class="example-sn">弹出菜单 - ind和list是data中的数据</p>
            <pre>
&lt;picker mode="selector" value="{{ind}}" range="{{list}}" bindchange="pick"&gt;{{list[ind]}}&lt;/picker&gt;</pre>
            <pre>
pick(e){
    this.setData({
        ind:e.detail.value
    })
}</pre>
            <div>&lt;slider&gt;</div>
            <p>滑动选择器</p>
            <p>更多信息，请访问 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/slider.html">官方文档 -
                    slider</a></p>
            <table>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>min</td>
                    <td>最小值</td>
                </tr>
                <tr>
                    <td>max</td>
                    <td>最大值</td>
                </tr>
                <tr>
                    <td>step</td>
                    <td>步长</td>
                </tr>
                <tr>
                    <td>show-value</td>
                    <td>是否显示值；默认不显示</td>
                </tr>
                <tr>
                    <td>backgroundColor</td>
                    <td>背景条的颜色</td>
                </tr>
                <tr>
                    <td>activeColor</td>
                    <td>已选择的颜色</td>
                </tr>
                <tr>
                    <td>block-size</td>
                    <td>滑块的大小，取值范围为 12 - 28</td>
                </tr>
                <tr>
                    <td>block-color</td>
                    <td>滑块颜色</td>
                </tr>
                <tr>
                    <td>bindchange</td>
                    <td>拖动后触发</td>
                </tr>
                <tr>
                    <td>bindchanging</td>
                    <td>拖动过程中触发</td>
                </tr>
            </table>
            <p class="example-sn">年龄选择</p>
            <pre>
&lt;slider activeColor="#3498db" backgroundColor="#ccc" block-size="24" block-color="#3498db" bindchange="selAge" min="18" max="24" name="uage" value="{{uage}}" show-value /&gt;</pre>
            <pre>
selAge(e){
    this.setData({
        uage:e.detail.value
    })
}</pre>
            <div>&lt;switch&gt;</div>
            <p>开关选择器</p>
            <p>也可以使用checkbox实现功能</p>
            <p>更多信息，请访问 <a href="https://developers.weixin.qq.com/miniprogram/dev/component/switch.html">官方文档 -
                    switch</a></p>
            <table>
                <tr>
                    <th>属性</th>
                    <th>说明</th>
                </tr>
                <tr>
                    <td>checked</td>
                    <td>是否选中</td>
                </tr>
                <tr>
                    <td>color</td>
                    <td>已选择的颜色</td>
                </tr>
                <tr>
                    <td>type</td>
                    <td>switch, checkbox；默认是switch</td>
                </tr>
                <tr>
                    <td>bindchange</td>
                    <td>选择后触发</td>
                </tr>
            </table>
        </dd>
        <dd class="tips">
            <div>组件还有一个共同属性：disabled</div>
            <div>各元素和整个表单的值都在事件对象中e.detail中获取</div>
        </dd>
        <dd class="example-sn">查看常见表单的值</dd>
        <dd>以注册表单为例：为各元素指定name便于提交数据</dd>
        <dd>
            <pre>
&lt;form class="form" bindsubmit="submit"&gt;
    &lt;view class="item border-btm"&gt;
        &lt;text&gt;学号&lt;/text&gt;
        &lt;input class="ipt" type="digit" name="usn" placeholder="您的学号" maxlength="8" value="{{userInfo.usn}}" /&gt;
    &lt;/view&gt;
    &lt;view class="item border-btm"&gt;
        &lt;text&gt;昵称&lt;/text&gt;
        &lt;input class="ipt" type="text" name="uname" placeholder="您的昵称" maxlength="8" value="{{userInfo.uname}}" /&gt;
    &lt;/view&gt;
    &lt;view class="item border-btm"&gt;
        &lt;text&gt;生日&lt;/text&gt;
        &lt;picker mode="date" start="1975-08-01" end="2024-03-06" name="ubirth" value="{{userInfo.birth}}" bindchange="changeBirth"&gt;{{userInfo.ubirth}}&lt;/picker&gt;
    &lt;/view&gt;
    &lt;view class="item age"&gt;
        &lt;text&gt;年龄&lt;/text&gt;
        &lt;slider class="slider" activeColor="#3498db" backgroundColor="#ccc" block-size="24" block-color="#3498db" bindchange="" min="15" max="28" name="uage" value="{{userInfo.uage}}" show-value /&gt;
    &lt;/view&gt;
    &lt;view class="item"&gt;
        &lt;text&gt;性别&lt;/text&gt;
        &lt;radio-group bindchange="getGender" name="ugender"&gt;
        &lt;radio value="男" checked="{{userInfo.ugender=='男'}}" color="#3498db" /&gt;男
        &lt;radio value="女" checked="{{userInfo.ugender=='女'}}" color="#3498db" /&gt;女
        &lt;/radio-group&gt;
    &lt;/view&gt;    
    &lt;view class="item"&gt;
        &lt;text&gt;爱好&lt;/text&gt;
        &lt;checkbox-group class="cb" bindchange="getLike" name='ulike'&gt;
        &lt;label&gt;
            &lt;checkbox color="#3498db" value="撸码" /&gt;撸码
        &lt;/label&gt;
        &lt;label&gt;
            &lt;checkbox color="#3498db" value="睡觉" /&gt;睡觉
        &lt;/label&gt;
        &lt;label&gt;
            &lt;checkbox color="#3498db" value="电玩" /&gt;电玩
        &lt;/label&gt;
        &lt;label&gt;
            &lt;checkbox color="#3498db" value="唱歌" /&gt;唱歌
        &lt;/label&gt;
        &lt;label&gt;
            &lt;checkbox color="#3498db" value="跳舞" /&gt;跳舞
        &lt;/label&gt;
        &lt;label&gt;
            &lt;checkbox color="#3498db" value="美食" /&gt;美食
        &lt;/label&gt;
        &lt;label&gt;
            &lt;checkbox color="#3498db" value="机车" /&gt;机车
        &lt;/label&gt;
        &lt;label&gt;
            &lt;checkbox color="#3498db" value="旅游" /&gt;旅游
        &lt;/label&gt;
        &lt;/checkbox-group&gt;
    &lt;/view&gt;
    &lt;view class="item"&gt;
        &lt;text&gt;简介&lt;/text&gt;
        &lt;textarea class="ta" name="udesc" value="{{userInfo.udesc}}" /&gt;
    &lt;/view&gt;
    &lt;button form-type="submit" class="sub-btn"&gt;保存&lt;/button&gt;
&lt;/form&gt;</pre>
            <pre>
data: {
    userInfo:{
        ubirth:'2020-08-01',
        udesc:'hi,there.',
        ulike:[],
        uage:18,
        ugender:'女',
        uname:'glpla',
        usn:20221001
    }
},
getSn(e) {
    console.log(e.detail.value);
},
getName(e) {
    console.log(e.detail.value);
},
getGender(e){
    console.log(e.detail.value);
},
getLike(e){
    console.log(e.detail.value);
},
changeBirth(e){
    console.log(e.detail);
    this.setData({
      "userInfo.ubirth":e.detail.value
    })
}
submit(e){
    console.log(e.detail.value);
}</pre>
        </dd>
        <dd class="example-sn">打开客服对话框</dd>
        <dd>用户点击后会打开客服对话框</dd>
        <dd>
            <figure>
                <figcaption>wxml</figcaption>
                <pre>&lt;button open-type="contact" bindcontact='getContact'&gt;getContact&lt;/button&gt;</pre>
            </figure>
            <figure>
                <figcaption>js</figcaption>
                <pre>
getContact(e){
    console.log(e);
}</pre>
            </figure>
        </dd>
        <dd class="example-sn">选择用户头像</dd>
        <dd>用户点击后会打开头像选择对话框</dd>
        <dd>
            <figure>
                <figcaption>wxml</figcaption>
                <pre>&lt;button open-type="chooseAvatar" bindchooseavatar='getAvatar'&gt;getAvatar&lt;/button&gt;</pre>
            </figure>
            <figure>
                <figcaption>js</figcaption>
                <pre>
getAvatar(e){
    console.log(e.detail);//http://tmp/bi86Wd1sI41s8ea8eb984c16d03bff787972d38e3ce6.jpg
}</pre>
            </figure>
        </dd>
    </dl>
    <iframe src="../common/footer.html" frameborder="0" scrolling="no" title="footer" id="footer"></iframe>
    <script src="/utils/custom/star.js"></script>
</body>

</html>