<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>样式 WXSS</title>
  <link rel="stylesheet" href="../css/reset2024.css">
  <link rel="stylesheet" href="../css/common2024.css">
  <link rel="stylesheet" href="../css/code.css">
  <link rel="stylesheet" href="../css/sn.css">
  <base target="_blank">
</head>

<body>
  <header>
    <h1>样式</h1>
    <span>WXSS</span>
  </header>
  <dl>
    <dd>微信小程序样式文件的后缀名是 <span class="warn">.wxss</span></dd>
    <dd>区分全局样式和局部|页面样式</dd>
    <dd>- app.wxss定义的样式是全局样式，作用于所有页面</dd>
    <dd>- 每个页面的.wxss定义的样式是局部|页面样式，只作用于当前页面</dd>
    <dd>微信小程序默认使用弹性盒子flex布局，也可以使用网格grid布局；更多布局请访问 <a href="../web/flex.html" class="link">Flex</a>、<a
        href="../web/grid.html" class="link">Grid</a>
    </dd>
    <dd>支持：</dd>
    <dd>- 支持内联样式 style</dd>
    <dd>- 支持外部样式导入 @import</dd>
    <dd>- 支持计算函数 calc()</dd>
    <dd>- 支持变量使用 var()</dd>
    <dd>但是：</dd>
    <dd>- 不支持全局定义 :root</dd>
    <dd>- 不支持*通配符</dd>
    <dd>- 组件库部分样式优先级高于类样式，需要使用内联样式</dd>
    <dt>选择器</dt>
    <dd>常用选择器如下表；更多选择器使用，请查看 <a href="../web/selector.html" class="link">selector</a></dd>
    <dd>组件样式不能使用标签选择器、ID选择器和属性选择器 - Some selectors are not allowed in component wxss, including tag name selectors,
      ID
      selectors, and attribute selectors. <span class="warn">WHY???</span></dd>
    <dd>
      <table class="tbl-sn">
        <caption>选择器</caption>
        <tr>
          <th>分类</th>
          <th>说明</th>
        </tr>
        <tr>
          <td>.</td>
          <td>点；类选择器</td>
        </tr>
        <tr>
          <td>#</td>
          <td>ID选择器</td>
        </tr>
        <tr>
          <td>element</td>
          <td>元素|标签选择器</td>
        </tr>
        <tr>
          <td>element, element</td>
          <td>并列选择器</td>
        </tr>
        <tr>
          <td>::before</td>
          <td>伪元素选择器</td>
        </tr>
        <tr>
          <td>::after</td>
          <td>伪元素选择器</td>
        </tr>
      </table>
    </dd>
    <dd class="tips">
      <div>尽量使用常规选择器；不要炫技</div>
      <div>全局变量在page中定义</div>
      <div>小程序提供了很多UI的样式，背离了结构 - 样式 - 逻辑分离的原则，不建议使用，主要是巨丑。。。</div>
    </dd>
    <dt>内联样式</dt>
    <dd>样式的属性值和数据绑定 - 想绑哪个属性就绑哪个属性</dd>
    <dd class="code">
      <pre>
&lt;image src="{{src}}" mode=""/&gt;
&lt;text style="color: {{color}};"&gt;hi,there.&lt;/text&gt;</pre>
    </dd>
    <dd class="code">
      <pre>
data: {
  src:'../../imgs/qrcode.png',
  color:'#f40'
}</pre>
    </dd>
    <dt>类</dt>
    <dd>动态类，使用三元表达式选择</dd>
    <dd>真，使用bold样式；否则不使用或者指定其它样式</dd>
    <dd class="code">
      <pre>&lt;view class="{{isActive?'bold':''}}"&gt;hi, there.&lt;/view&gt;</pre>
    </dd>
    <dd>基类直接叠加活动类</dd>
    <dd class="code">
      <pre>&lt;view class="title {{isActive?'bold':'normal'}}"&gt;hi, there.&lt;/view&gt;</pre>
    </dd>
    <dd class="example-sn">类和样式共同使用</dd>
    <dd>类box指定宽高；内联样式指定背景图片</dd>
    <dd class="code">
      <pre>&lt;view class="box" style="background-image: url({{src}});"&gt;&lt;/view&gt;</pre>
    </dd>
    <dt>样式导入 @import</dt>
    <dd>相对路径；以;结束</dd>
    <dd>
      <figure class="code">
        <figcaption>在app.wxss中引入初始化样式文件和阿里字体图标文件</figcaption>
        <pre>
@import './utils/css/reset.wxss';
@import './utils/css/iconfont.wxss';</pre>
      </figure>
    </dd>
    <dd class="example-sn" id="iconfont">导入 <a href="https://www.iconfont.cn/" class="link">阿里字体图标</a></dd>
    <dd class="number">
      <div>注册并登录</div>
      <div>搜索字体图标 → 选择字体图标 → 添加到购物车 → 添加到项目</div>
      <div>设置字体项目，<span class="warn">加选</span> base64</div>
      <figure class="img-sn">
        <img src="./imgs/pro3.png" alt="">
        <figcaption>字体项目设置</figcaption>
      </figure>
      <div>下载 <span class="warn">类格式</span> 的字体</div>
      <div>解压 → 复制iconfont.css到小程序项目 → 改后缀名为.wxss</div>
      <div>在页面的.wxss中导入；如果全局使用，请在app.wxss中导入</div>
      <div>修改其样式的字体大小为rpx单位</div>
      <pre class="code">
@import '../../utils/css/iconfont.wxss';
.iconfont{
    font-size: 32rpx;
}</pre>
      <div>在页面的wxml中使用</div>
      <pre class="code">&lt;text class="iconfont icon-home"&gt;&lt;/text&gt;</pre>
    </dd>
    <dd class="tips">为避免频繁使用基类，后续可封装为全局组件；详情请参考 <a href="./components.html" class="link">自定义组件</a>
    </dd>
    <dt>定制字体</dt>
    <dd class="number">
      <div>打开<a href="https://www.googlefonts.cn" class="link">谷歌字体</a>查找字体 Great+Vibes 或自己喜欢的字体或者使用其它平台</div>
      <div>点击下载到本地并解压，得到字体文件GreatVibes-Regular.ttf；默认情况下，字体不支持base64，需要转码</div>
      <div>打开<a href="https://transfonter.org/" class="link">转码 transfonter</a>，上传字体文件Add
        fonts，勾选base64编码，单击转换Convert开始转换
      </div>
      <div>转换完毕，单击下载downl，得到字体文件压缩包，解压后如下图；然后拷贝到小程序，将.css样式文件后缀名改为.wxss</div>
      <div>在小程序中，查看样式文件，其它定制了字体家族为：Great Vibes</div>
      <img src="./imgs/font0.png" alt="">
      <div>在样式中引入样式文件并使用；字体略小，可以指定为20px</div>
      <pre class="code">
@import '../../utils/transfonter.org-20240229-142749/stylesheet.wxss';
text{
  font-family: 'Great Vibes';
  font-size: 20px;
}</pre>
    </dd>
    <dd class="tips">
      <div>不管是使用阿里字体图标还是定制字体，本质上都是对数据base64的运用</div>
    </dd>
    <dt>单位</dt>
    <dd>1. rpx</dd>
    <dd>物理像素 - 实际的像素点</dd>
    <dd>逻辑像素 - CSS的像素单位</dd>
    <dd>DPR - Device Pixel Ratio, 设备像素比：设备的物理像素与逻辑像素之比</dd>
    <dd>iPhone6：375*667 dpr=2；逻辑像素是375px*667px，dpr为2，所以物理像素是750px*1334px，1个逻辑像素需要2个物理像素来显示</dd>
    <dd>通常采用 iPhone6（375*667 dpr=2） 作为设计稿的标准，量取尺寸，使用rpx作为单位即可</dd>
    <dd>responsive px - 响应式像素；小程序 <span class="warn">专有</span> 单位，用来解决屏幕适配；小程序规定任何手机屏幕的宽度都是750份，即750rpx -
      逻辑像素；在不同设备上运行时，小程序会自动把rpx换算成对应的物理像素，实现适配
    </dd>
    <dd class="txt-center">750rpx = 375px = 750物理像素</dd>
    <dd class="txt-center">1rpx = 0.5px = 1物理像素</dd>
    <dd>2. vw vh</dd>
    <dd>将屏幕宽高分为100份</dd>
    <dd>3. %</dd>
    <dd>百分比</dd>
    <dt>颜色</dt>
    <dd>使用16进制颜色，如#ff4400；支持简写，如#f40；支持透明色，如#f406；建议使用rgba()</dd>
    <dd>可以通过变量定制主题色--themeColor；使用主题颜色：var(--themeColor)</dd>
    <dd class="code">
      <pre>
page{
  --themeColor:#eb4450;
  font-size: 28rpx;
}
.item{
  background-color: var(--themeColor);
}</pre>
    </dd>
  </dl>
  <iframe src="../common/footer.html" frameborder="0" scrolling="no" title="footer" id="footer"></iframe>
</body>

</html>