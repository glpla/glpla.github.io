<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>列表渲染 wx:for</title>
  <link rel="stylesheet" href="../css/common.css">
  <base target="_blank">
</head>

<body>
  <header>
    <h1>列表渲染</h1>
    <span>&commat;wx:for</span>
  </header>
  <dl>
    </dd>
    <dd>以绑定属性的方式使用wx:for循环数组</dd>
    <dd>默认情况下，使用 <span class="warn">item</span> 表示迭代的当前数据项，使用 <span class="warn">index</span> 表示当前数据项的索引</dd>
    <dd>多重循环下，系统可以自动识别 index 和 item 的作用域；也可以使用 wx:for-index 和 wx:for-item 指定索引和当前项，但是不建议</dd>
    <dd>为保证渲染效率和数据的唯一性，应总是使用 wx:key</dd>
    <dd>对象数据列表通常需要提供唯一标识id字段，可以作为key；直接使用id即可</dd>
    <dd>普通列表没有id，可以使用 index 作为key；或者为数据创建时间戳作为id - now()</dd>
    <dd>更多信息，请访问 <a
        href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/#%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93">官方文档
        - 列表渲染</a>
    <dt>静态数组</dt>
    <dd>
      <div>指定数字 - 循环次数：从0到9-1，8次</div>
      <div>多用于练习</div>
      <pre>&lt;view wx:for="{{9}}" wx:key="index"&gt; {{item}} &lt;/view&gt;</pre>
    </dd>
    <dt>动态数组</dt>
    <dd>
      <div>根据数组实际长度|个数循环</div>
      <pre>
data: {
  arr: [1, 2, 3, 4, 5],
  obj:[
    {id:0, name:'gl', year:1995},
    {id:1, name:'sh', year:2005},
    {id:2, name:'nj', year:2008}
  ]
}</pre>
      <p>普通数组 - 循环5次</p>
      <pre>&lt;view wx:for="{{arr}}" wx:key="item"&gt; {{item}} &lt;/view&gt;</pre>
      <p>对象数组 - 循环3次</p>
      <pre>&lt;view wx:for="{{obj}}" wx:key="id"&gt; {{item.name}}- {{item.year}} &lt;/view&gt;</pre>
    </dd>
    <dd class="example-sn">多重循环 - 9*9乘法表</dd>
    <dd>为了更加直观的观察效果，配置页面为横板；样式自定</dd>
    <dd>
      "pageOrientation": "landscape"
    </dd>
    <dd>
      <pre>
&lt;view  class="item" wx:for="{{arr}}" wx:key="index" wx:for-item='i'&gt;
  &lt;text wx:for="{{i+1}}" wx:key="index" wx:for-item='j'&gt;
    &lt;text class="item" wx:if="{{j&gt;0}}"&gt;{{j}} * {{i}} = {{i*j}} &lt;/text&gt;
  &lt;/text&gt;
&lt;/view&gt;</pre>
      <figure>
        <img src="./imgs/99.png" alt="">
        <figcaption>9*9 乘法表</figcaption>
      </figure>
    </dd>
  </dl>
  <iframe src="../common/footer.html" frameborder="0" scrolling="no" title="footer" id="footer"></iframe>
  <script src="/utils/custom/star.js"></script>
</body>

</html>