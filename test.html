<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #1a2b3c;
      height: 100vh;
      color: #f1f2f3;
      font-family: Arial, Helvetica, sans-serif;
      overflow: hidden;
    }

    button {
      position: relative;
      width: 400px;
      height: 200px;
    }

    .dot {
      position: absolute;
      border-radius: 50%;
      background-color: rgba(8, 193, 17, 0.8);
      pointer-events: none;
    }

    .dot:nth-child(even) {
      background-color: transparent;
      border: 1px solid rgba(255, 255, 255, 1);
    }

    @keyframes dot-move {
      form {
        opacity: 1;
        /* transform: translate(var(--fx), var(--fy)); */
      }

      to {
        opacity: 0;
        transform: translate(var(--x), var(--y));
      }
    }
  </style>
</head>

<body>
  <button>click</button>
  <script>
    let btn = document.querySelector('button');
    btn.addEventListener('click', (e) => {
      for (let i = 0; i < 50; i++) {
        let dot = document.createElement('i');
        dot.classList.add('dot');

        let posx = (Math.random() - 0.5) * window.innerWidth;
        let posy = (Math.random() - 0.5) * window.innerHeight;
        dot.style.setProperty('--x', posx + 'px')
        dot.style.setProperty('--y', posy + 'px')

        let size = Math.random() * 8 + 2;
        dot.style.width = size + 'px';
        dot.style.height = size + 'px';


        let fx = e.clientX - e.target.offsetLeft;
        let fy = e.clientY - e.target.offsetTop;
        dot.style.left = fx + 'px'
        dot.style.top = fy + 'px'

        let duration = Math.random() * 2 + 0.5
        dot.style.animation = `dot-move ${duration}s linear forwards `

        let hue = Math.random() * 360;
        dot.style.filter = `hue-rotate(${hue}deg)`

        btn.appendChild(dot);

        setTimeout(() => {
          dot.remove()
        }, 2000)
      }
      // for (let i = 0; i < 50; i++) {
      //   let dot = document.createElement('i');
      //   let size = Math.random() * 8 + 2;
      //   dot.style.width = size + 'px';
      //   dot.style.height = size + 'px';
      //   let randx = (Math.random() - 0.5) * window.innerWidth;
      //   let randy = (Math.random() - 0.5) * window.innerHeight;
      //   dot.style.setProperty('--x', randx + 'px')
      //   dot.style.setProperty('--y', randy + 'px')
      //   let fx = e.clientX - e.target.offsetLeft;
      //   let fy = e.clientY - e.target.offsetTop;
      //   dot.style.left = fx + 'px'
      //   dot.style.top = fy + 'px'
      //   let duration = Math.random() * 2 + 0.5
      //   dot.style.animation = `dot-move ${duration}s linear forwards `
      //   let hue = Math.random() * 360;
      //   dot.style.filter = `hue-rotate(${hue}deg)`
      //   dot.classList.add('dot');
      //   btn.appendChild(dot);
      //   setTimeout(() => {
      //     dot.remove()
      //   }, 5000)
      // }
    })
  </script>
</body>

</html>